(()=>{var uf=Object.defineProperty,lf=Object.defineProperties;var hf=Object.getOwnPropertyDescriptors;var Fr=Object.getOwnPropertySymbols,df=Object.getPrototypeOf,yu=Object.prototype.hasOwnProperty,Iu=Object.prototype.propertyIsEnumerable,ff=Reflect.get;var _u=(n,e,t)=>e in n?uf(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,q=(n,e)=>{for(var t in e||(e={}))yu.call(e,t)&&_u(n,t,e[t]);if(Fr)for(var t of Fr(e))Iu.call(e,t)&&_u(n,t,e[t]);return n},Pe=(n,e)=>lf(n,hf(e));var Ur=(n,e)=>{var t={};for(var r in n)yu.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Fr)for(var r of Fr(n))e.indexOf(r)<0&&Iu.call(n,r)&&(t[r]=n[r]);return t};var ut=(n,e,t)=>ff(df(n),t,e);var y=(n,e,t)=>new Promise((r,i)=>{var o=h=>{try{l(t.next(h))}catch(f){i(f)}},a=h=>{try{l(t.throw(h))}catch(f){i(f)}},l=h=>h.done?r(h.value):Promise.resolve(h.value).then(o,a);l((t=t.apply(n,e)).next())});var wu=()=>{};var vu=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},pf=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],a=n[t++],l=n[t++],h=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{let o=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Au={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],a=i+1<n.length,l=a?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,_=o>>2,T=(o&3)<<4|l>>4,S=(l&15)<<2|f>>6,C=f&63;h||(C=64,a||(S=64)),r.push(t[_],t[T],t[S],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vu(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pf(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;let f=i<n.length?t[n.charAt(i)]:64;++i;let T=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||l==null||f==null||T==null)throw new ks;let S=o<<2|l>>4;if(r.push(S),f!==64){let C=l<<4&240|f>>2;if(r.push(C),T!==64){let D=f<<6&192|T;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ks=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mf=function(n){let e=vu(n);return Au.encodeByteArray(e,!0)},Mn=function(n){return mf(n).replace(/\./g,"")},qr=function(n){try{return Au.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bu(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}var gf=()=>bu().__FIREBASE_DEFAULTS__,_f=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yf=()=>{if(typeof document=="undefined")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let e=n&&qr(n[1]);return e&&JSON.parse(e)},zr=()=>{try{return wu()||gf()||_f()||yf()}catch(n){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(n));return}},Ds=n=>{var e,t;return(t=(e=zr())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},jr=n=>{let e=Ds(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Os=()=>{var n;return(n=zr())==null?void 0:n.config},xs=n=>{var e;return(e=zr())==null?void 0:e["_".concat(n)]};var Br=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function xe(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function jt(n){return y(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Gr(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=q({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mn(JSON.stringify(t)),Mn(JSON.stringify(a)),""].join(".")}var Ln={};function If(){let n={prod:[],emulator:[]};for(let e of Object.keys(Ln))Ln[e]?n.emulator.push(e):n.prod.push(e);return n}function wf(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Eu=!1;function Gt(n,e){if(typeof window=="undefined"||typeof document=="undefined"||!xe(window.location.host)||Ln[n]===e||Ln[n]||Eu)return;Ln[n]=e;function t(S){return"__firebase__banner__".concat(S)}let r="__firebase__banner",o=If().prod.length>0;function a(){let S=document.getElementById(r);S&&S.remove()}function l(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function h(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function f(){let S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Eu=!0,a()},S}function _(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){let S=wf(r),C=t("text"),D=document.getElementById(C)||document.createElement("span"),V=t("learnmore"),O=document.getElementById(V)||document.createElement("a"),K=t("preprendIcon"),W=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){let G=S.element;l(G),_(O,V);let j=f();h(W,K),G.append(W,D,O,j),document.body.appendChild(G)}o?(D.innerText="Preview backend disconnected.",W.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(W.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function ae(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Su(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ae())}function Ef(){var e;let n=(e=zr())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(t){return!1}}function Ru(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function Pu(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Cu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ku(){let n=ae();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Nu(){return!Ef()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vs(){try{return typeof indexedDB=="object"}catch(n){return!1}}function Du(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}var Tf="FirebaseError",_e=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Tf,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}},We=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i="".concat(this.service,"/").concat(e),o=this.errors[e],a=o?vf(o,r):"Error",l="".concat(this.serviceName,": ").concat(a," (").concat(i,").");return new _e(i,l,r)}};function vf(n,e){return n.replace(Af,(t,r)=>{let i=e[r];return i!=null?String(i):"<".concat(r,"?>")})}var Af=/\{\$([^}]+)}/g;function Ou(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ve(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],a=e[i];if(Tu(o)&&Tu(a)){if(!Ve(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Tu(n){return n!==null&&typeof n=="object"}function $t(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ht(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Wt(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xu(n,e){let t=new Ns(n,e);return t.subscribe.bind(t)}var Ns=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bf(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Cs),i.error===void 0&&(i.error=Cs),i.complete===void 0&&(i.complete=Cs);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(a){}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bf(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cs(){}var Iy=14400*1e3;function Se(n){return n&&n._delegate?n._delegate:n}var we=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bt="[DEFAULT]";var Ls=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Br;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var i;let t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!=null?i:!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(Rf(e))try{this.getOrInitializeService({instanceIdentifier:bt})}catch(t){}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=bt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bt){return this.instances.has(e)}getOptions(e=bt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,t){var a;let r=this.normalizeInstanceIdentifier(t),i=(a=this.onInitCallbacks.get(r))!=null?a:new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sf(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=bt){return this.component?this.component.multipleInstances?e:bt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sf(n){return n===bt?void 0:n}function Rf(n){return n.instantiationMode==="EAGER"}var $r=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ls(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Pf=[],F;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(F||(F={}));var Cf={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},kf=F.INFO,Nf={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Df=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Nf[e];if(i)console[i]("[".concat(r,"]  ").concat(n.name,":"),...t);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))},lt=class{constructor(e){this.name=e,this._logLevel=kf,this._logHandler=Df,this._userLogHandler=null,Pf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in F))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...e),this._logHandler(this,F.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...e),this._logHandler(this,F.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,F.INFO,...e),this._logHandler(this,F.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,F.WARN,...e),this._logHandler(this,F.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...e),this._logHandler(this,F.ERROR,...e)}};var Of=(n,e)=>e.some(t=>n instanceof t),Vu,Lu;function xf(){return Vu||(Vu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vf(){return Lu||(Lu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Mu=new WeakMap,Fs=new WeakMap,Fu=new WeakMap,Ms=new WeakMap,Bs=new WeakMap;function Lf(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{t(Le(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Mu.set(t,n)}).catch(()=>{}),Bs.set(e,n),e}function Mf(n){if(Fs.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});Fs.set(n,e)}var Us={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fs.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Fu.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Le(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Uu(n){Us=n(Us)}function Ff(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Hr(this),e,...t);return Fu.set(r,e.sort?e.sort():[e]),Le(r)}:Vf().includes(n)?function(...e){return n.apply(Hr(this),e),Le(Mu.get(this))}:function(...e){return Le(n.apply(Hr(this),e))}}function Uf(n){return typeof n=="function"?Ff(n):(n instanceof IDBTransaction&&Mf(n),Of(n,xf())?new Proxy(n,Us):n)}function Le(n){if(n instanceof IDBRequest)return Lf(n);if(Ms.has(n))return Ms.get(n);let e=Uf(n);return e!==n&&(Ms.set(n,e),Bs.set(e,n)),e}var Hr=n=>Bs.get(n);function qu(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(n,e),l=Le(a);return r&&a.addEventListener("upgradeneeded",h=>{r(Le(a.result),h.oldVersion,h.newVersion,Le(a.transaction),h)}),t&&a.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),l.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}var Bf=["get","getKey","getAll","getAllKeys","count"],qf=["put","add","delete","clear"],qs=new Map;function Bu(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(qs.get(e))return qs.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=qf.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Bf.includes(t)))return;let o=function(a,...l){return y(this,null,function*(){let h=this.transaction(a,i?"readwrite":"readonly"),f=h.store;return r&&(f=f.index(l.shift())),(yield Promise.all([f[t](...l),i&&h.done]))[0]})};return qs.set(e,o),o}Uu(n=>Pe(q({},n),{get:(e,t,r)=>Bu(e,t)||n.get(e,t,r),has:(e,t)=>!!Bu(e,t)||n.has(e,t)}));var js=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zf(t)){let r=t.getImmediate();return"".concat(r.library,"/").concat(r.version)}else return null}).filter(t=>t).join(" ")}};function zf(n){let e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}var Gs="@firebase/app",zu="0.14.6";var Ke=new lt("@firebase/app"),jf="@firebase/app-compat",Gf="@firebase/analytics-compat",$f="@firebase/analytics",Hf="@firebase/app-check-compat",Wf="@firebase/app-check",Kf="@firebase/auth",Qf="@firebase/auth-compat",Jf="@firebase/database",Yf="@firebase/data-connect",Xf="@firebase/database-compat",Zf="@firebase/functions",ep="@firebase/functions-compat",tp="@firebase/installations",np="@firebase/installations-compat",rp="@firebase/messaging",ip="@firebase/messaging-compat",sp="@firebase/performance",op="@firebase/performance-compat",ap="@firebase/remote-config",cp="@firebase/remote-config-compat",up="@firebase/storage",lp="@firebase/storage-compat",hp="@firebase/firestore",dp="@firebase/ai",fp="@firebase/firestore-compat",pp="firebase",mp="12.6.0";var $s="[DEFAULT]",gp={[Gs]:"fire-core",[jf]:"fire-core-compat",[$f]:"fire-analytics",[Gf]:"fire-analytics-compat",[Wf]:"fire-app-check",[Hf]:"fire-app-check-compat",[Kf]:"fire-auth",[Qf]:"fire-auth-compat",[Jf]:"fire-rtdb",[Yf]:"fire-data-connect",[Xf]:"fire-rtdb-compat",[Zf]:"fire-fn",[ep]:"fire-fn-compat",[tp]:"fire-iid",[np]:"fire-iid-compat",[rp]:"fire-fcm",[ip]:"fire-fcm-compat",[sp]:"fire-perf",[op]:"fire-perf-compat",[ap]:"fire-rc",[cp]:"fire-rc-compat",[up]:"fire-gcs",[lp]:"fire-gcs-compat",[hp]:"fire-fst",[fp]:"fire-fst-compat",[dp]:"fire-vertex","fire-js":"fire-js",[pp]:"fire-js-all"};var Fn=new Map,_p=new Map,Hs=new Map;function ju(n,e){try{n.container.addComponent(e)}catch(t){Ke.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(n.name),t)}}function Me(n){let e=n.name;if(Hs.has(e))return Ke.debug("There were multiple attempts to register component ".concat(e,".")),!1;Hs.set(e,n);for(let t of Fn.values())ju(t,n);for(let t of _p.values())ju(t,n);return!0}function St(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function he(n){return n==null?!1:n.settings!==void 0}var yp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ht=new We("app","Firebase",yp);var Ws=class{constructor(e,t,r){this._isDeleted=!1,this._options=q({},e),this._config=q({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new we("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ht.create("app-deleted",{appName:this._name})}};var Fe=mp;function Js(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=q({name:$s,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ht.create("bad-app-name",{appName:String(i)});if(t||(t=Os()),!t)throw ht.create("no-options");let o=Fn.get(i);if(o){if(Ve(t,o.options)&&Ve(r,o.config))return o;throw ht.create("duplicate-app",{appName:i})}let a=new $r(i);for(let h of Hs.values())a.addComponent(h);let l=new Ws(t,r,a);return Fn.set(i,l),l}function dt(n=$s){let e=Fn.get(n);if(!e&&n===$s&&Os())return Js();if(!e)throw ht.create("no-app",{appName:n});return e}function Wu(){return Array.from(Fn.values())}function Ee(n,e,t){var a;let r=(a=gp[n])!=null?a:n;t&&(r+="-".concat(t));let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let l=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];i&&l.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),i&&o&&l.push("and"),o&&l.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),Ke.warn(l.join(" "));return}Me(new we("".concat(r,"-version"),()=>({library:r,version:e}),"VERSION"))}var Ip="firebase-heartbeat-database",wp=1,Un="firebase-heartbeat-store",zs=null;function Ku(){return zs||(zs=qu(Ip,wp,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Un)}catch(t){console.warn(t)}}}}).catch(n=>{throw ht.create("idb-open",{originalErrorMessage:n.message})})),zs}function Ep(n){return y(this,null,function*(){try{let t=(yield Ku()).transaction(Un),r=yield t.objectStore(Un).get(Qu(n));return yield t.done,r}catch(e){if(e instanceof _e)Ke.warn(e.message);else{let t=ht.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ke.warn(t.message)}}})}function Gu(n,e){return y(this,null,function*(){try{let r=(yield Ku()).transaction(Un,"readwrite");yield r.objectStore(Un).put(e,Qu(n)),yield r.done}catch(t){if(t instanceof _e)Ke.warn(t.message);else{let r=ht.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ke.warn(r.message)}}})}function Qu(n){return"".concat(n.name,"!").concat(n.options.appId)}var Tp=1024,vp=30,Ks=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Qs(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$u();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>vp){let a=bp(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ke.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=$u(),{heartbeatsToSend:r,unsentEntries:i}=Ap(this._heartbeatsCache.heartbeats),o=Mn(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ke.warn(t),""}})}};function $u(){return new Date().toISOString().substring(0,10)}function Ap(n,e=Tp){let t=[],r=n.slice();for(let i of n){let o=t.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Hu(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Hu(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Qs=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Vs()?Du().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Ep(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Gu(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Gu(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Hu(n){return Mn(JSON.stringify({version:2,heartbeats:n})).length}function bp(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Sp(n){Me(new we("platform-logger",e=>new js(e),"PRIVATE")),Me(new we("heartbeat",e=>new Ks(e),"PRIVATE")),Ee(Gs,zu,n),Ee(Gs,zu,"esm2020"),Ee("fire-js","")}Sp("");var Rp="firebase",Pp="12.6.0";Ee(Rp,Pp,"app");function pl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ml=pl,gl=new We("auth","Firebase",pl());var Zr=new lt("@firebase/auth");function Cp(n,...e){Zr.logLevel<=F.WARN&&Zr.warn("Auth (".concat(Fe,"): ").concat(n),...e)}function Kr(n,...e){Zr.logLevel<=F.ERROR&&Zr.error("Auth (".concat(Fe,"): ").concat(n),...e)}function ke(n,...e){throw To(n,...e)}function Be(n,...e){return To(n,...e)}function _l(n,e,t){let r=Pe(q({},ml()),{[e]:t});return new We("auth","Firebase",r).create(e,{appName:n.name})}function Je(n){return _l(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function To(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return gl.create(n,...e)}function N(n,e,...t){if(!n)throw To(e,...t)}function Ue(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kr(e),new Error(e)}function Ye(n,e){n||Ue(e)}function no(){var n;return typeof self!="undefined"&&((n=self.location)==null?void 0:n.href)||""}function kp(){return Ju()==="http:"||Ju()==="https:"}function Ju(){var n;return typeof self!="undefined"&&((n=self.location)==null?void 0:n.protocol)||null}function Np(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kp()||Pu()||"connection"in navigator)?navigator.onLine:!0}function Dp(){if(typeof navigator=="undefined")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Rt=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ye(t>e,"Short delay should be less than long delay!"),this.isMobile=Su()||Cu()}get(){return Np()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vo(n,e){Ye(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?"".concat(t).concat(e.startsWith("/")?e.slice(1):e):t}var ei=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;Ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;Ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;Ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Op={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var xp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vp=new Rt(3e4,6e4);function se(n,e){return n.tenantId&&!e.tenantId?Pe(q({},e),{tenantId:n.tenantId}):e}function de(o,a,l,h){return y(this,arguments,function*(n,e,t,r,i={}){return yl(n,i,()=>y(null,null,function*(){let f={},_={};r&&(e==="GET"?_=r:f={body:JSON.stringify(r)});let T=$t(q({key:n.config.apiKey},_)).slice(1),S=yield n._getAdditionalHeaders();S["Content-Type"]="application/json",n.languageCode&&(S["X-Firebase-Locale"]=n.languageCode);let C=q({method:e,headers:S},f);return Ru()||(C.referrerPolicy="no-referrer"),n.emulatorConfig&&xe(n.emulatorConfig.host)&&(C.credentials="include"),ei.fetch()(yield Il(n,n.config.apiHost,t,T),C)}))})}function yl(n,e,t){return y(this,null,function*(){n._canInitEmulator=!1;let r=q(q({},Op),e);try{let i=new ro(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw qn(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[h,f]=l.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw qn(n,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw qn(n,"email-already-in-use",a);if(h==="USER_DISABLED")throw qn(n,"user-disabled",a);let _=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _l(n,_,f);ke(n,_)}}catch(i){if(i instanceof _e)throw i;ke(n,"network-request-failed",{message:String(i)})}})}function mt(o,a,l,h){return y(this,arguments,function*(n,e,t,r,i={}){let f=yield de(n,e,t,r,i);return"mfaPendingCredential"in f&&ke(n,"multi-factor-auth-required",{_serverResponse:f}),f})}function Il(n,e,t,r){return y(this,null,function*(){let i="".concat(e).concat(t,"?").concat(r),o=n,a=o.config.emulator?vo(n.config,i):"".concat(n.config.apiScheme,"://").concat(i);return xp.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a})}function Lp(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ro=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Be(this.auth,"network-request-failed")),Vp.get())})}};function qn(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Be(n,e,r);return i.customData._tokenResponse=t,i}function Yu(n){return n!==void 0&&n.enterprise!==void 0}var ti=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Lp(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function wl(n,e){return y(this,null,function*(){return de(n,"GET","/v2/recaptchaConfig",se(n,e))})}function Mp(n,e){return y(this,null,function*(){return de(n,"POST","/v1/accounts:delete",e)})}function ni(n,e){return y(this,null,function*(){return de(n,"POST","/v1/accounts:lookup",e)})}function zn(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function El(n,e=!1){return y(this,null,function*(){let t=Se(n),r=yield t.getIdToken(e),i=Ao(r);N(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:zn(Ys(i.auth_time)),issuedAtTime:zn(Ys(i.iat)),expirationTime:zn(Ys(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}})}function Ys(n){return Number(n)*1e3}function Ao(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kr("JWT malformed, contained fewer than 3 sections"),null;try{let i=qr(t);return i?JSON.parse(i):(Kr("Failed to decode base64 JWT payload"),null)}catch(i){return Kr("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Xu(n){let e=Ao(n);return N(e,"internal-error"),N(typeof e.exp!="undefined","internal-error"),N(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}function $n(n,e,t=!1){return y(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof _e&&Fp(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Fp({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var io=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!=null?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),t)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Hn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zn(this.lastLoginAt),this.creationTime=zn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ri(n){return y(this,null,function*(){var T;let e=n.auth,t=yield n.getIdToken(),r=yield $n(n,ni(e,{idToken:t}));N(r==null?void 0:r.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=(T=i.providerUserInfo)!=null&&T.length?vl(i.providerUserInfo):[],a=Up(n.providerData,o),l=n.isAnonymous,h=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),f=l?h:!1,_={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Hn(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,_)})}function Tl(n){return y(this,null,function*(){let e=Se(n);yield ri(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Up(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vl(n){return n.map(r=>{var i=r,{providerId:e}=i,t=Ur(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}function Bp(n,e){return y(this,null,function*(){let t=yield yl(n,{},()=>y(null,null,function*(){let r=$t({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,a=yield Il(n,i,"/v1/token","key=".concat(o)),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";let h={method:"POST",headers:l,body:r};return n.emulatorConfig&&xe(n.emulatorConfig.host)&&(h.credentials="include"),ei.fetch()(a,h)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function qp(n,e){return y(this,null,function*(){return de(n,"POST","/v2/accounts:revokeToken",se(n,e))})}var jn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken!="undefined","internal-error"),N(typeof e.refreshToken!="undefined","internal-error");let t="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):Xu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){N(e.length!==0,"internal-error");let t=Xu(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return y(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(N(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Bp(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,a=new n;return r&&(N(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(N(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(N(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ue("not implemented")}};function ft(n,e){N(typeof n=="string"||typeof n=="undefined","internal-error",{appName:e})}var pt=class n{constructor(o){var a=o,{uid:e,auth:t,stsTokenManager:r}=a,i=Ur(a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hn(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let t=yield $n(this,this.stsTokenManager.getToken(this.auth,e));return N(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return El(this,e)}reload(){return Tl(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>q({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Pe(q({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ri(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(he(this.auth.app))return Promise.reject(Je(this.auth));let e=yield this.getIdToken();return yield $n(this,Mp(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Pe(q({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>q({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var W,G,j,re,J,w,p,g;let r=(W=t.displayName)!=null?W:void 0,i=(G=t.email)!=null?G:void 0,o=(j=t.phoneNumber)!=null?j:void 0,a=(re=t.photoURL)!=null?re:void 0,l=(J=t.tenantId)!=null?J:void 0,h=(w=t._redirectEventId)!=null?w:void 0,f=(p=t.createdAt)!=null?p:void 0,_=(g=t.lastLoginAt)!=null?g:void 0,{uid:T,emailVerified:S,isAnonymous:C,providerData:D,stsTokenManager:V}=t;N(T&&V,e,"internal-error");let O=jn.fromJSON(this.name,V);N(typeof T=="string",e,"internal-error"),ft(r,e.name),ft(i,e.name),N(typeof S=="boolean",e,"internal-error"),N(typeof C=="boolean",e,"internal-error"),ft(o,e.name),ft(a,e.name),ft(l,e.name),ft(h,e.name),ft(f,e.name),ft(_,e.name);let K=new n({uid:T,auth:e,email:i,emailVerified:S,displayName:r,isAnonymous:C,photoURL:a,phoneNumber:o,tenantId:l,stsTokenManager:O,createdAt:f,lastLoginAt:_});return D&&Array.isArray(D)&&(K.providerData=D.map(E=>q({},E))),h&&(K._redirectEventId=h),K}static _fromIdTokenResponse(e,t,r=!1){return y(this,null,function*(){let i=new jn;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ri(o),o})}static _fromGetAccountInfoResponse(e,t,r){return y(this,null,function*(){let i=t.users[0];N(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?vl(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new jn;l.updateFromIdToken(r);let h=new n({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Hn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h})}};var Zu=new Map;function Qe(n){Ye(n instanceof Function,"Expected a class definition");let e=Zu.get(n);return e?(Ye(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Zu.set(n,e),e)}var ii=class{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(e,t){return y(this,null,function*(){this.storage[e]=t})}_get(e){return y(this,null,function*(){let t=this.storage[e];return t===void 0?null:t})}_remove(e){return y(this,null,function*(){delete this.storage[e]})}_addListener(e,t){}_removeListener(e,t){}};ii.type="NONE";var so=ii;function Qr(n,e,t){return"firebase:".concat(n,":").concat(e,":").concat(t)}var si=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qr(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qr("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield ni(this.auth,{idToken:e}).catch(()=>{});return t?pt._fromGetAccountInfoResponse(this.auth,t,e):null}return pt._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(this,null,function*(){if(!t.length)return new n(Qe(so),e,r);let i=(yield Promise.all(t.map(f=>y(null,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=i[0]||Qe(so),a=Qr(r,e.config.apiKey,e.name),l=null;for(let f of t)try{let _=yield f._get(a);if(_){let T;if(typeof _=="string"){let S=yield ni(e,{idToken:_}).catch(()=>{});if(!S)break;T=yield pt._fromGetAccountInfoResponse(e,S,_)}else T=pt._fromJSON(e,_);f!==o&&(l=T),o=f;break}}catch(_){}let h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new n(o,e,r):(o=h[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(t.map(f=>y(null,null,function*(){if(f!==o)try{yield f._remove(a)}catch(_){}}))),new n(o,e,r))})}};function el(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Al(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cl(e))return"Blackberry";if(kl(e))return"Webos";if(bl(e))return"Safari";if((e.includes("chrome/")||Sl(e))&&!e.includes("edge/"))return"Chrome";if(Pl(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Al(n=ae()){return/firefox\//i.test(n)}function bl(n=ae()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sl(n=ae()){return/crios\//i.test(n)}function Rl(n=ae()){return/iemobile/i.test(n)}function Pl(n=ae()){return/android/i.test(n)}function Cl(n=ae()){return/blackberry/i.test(n)}function kl(n=ae()){return/webos/i.test(n)}function bo(n=ae()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zp(n=ae()){var e;return bo(n)&&!!((e=window.navigator)!=null&&e.standalone)}function jp(){return ku()&&document.documentMode===10}function Nl(n=ae()){return bo(n)||Pl(n)||kl(n)||Cl(n)||/windows phone/i.test(n)||Rl(n)}function Dl(n,e=[]){let t;switch(n){case"Browser":t=el(ae());break;case"Worker":t="".concat(el(ae()),"-").concat(n);break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return"".concat(t,"/JsCore/").concat(Fe,"/").concat(r)}var oo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((a,l)=>{try{let h=e(o);a(h)}catch(h){l(h)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch(o){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}})}};function Gp(t){return y(this,arguments,function*(n,e={}){return de(n,"GET","/v2/passwordPolicy",se(n,e))})}var $p=6,ao=class{constructor(e){var r,i,o,a;let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=t.minPasswordLength)!=null?r:$p,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))!=null?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!=null?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,i,o,a,l,h;let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=(r=t.meetsMinPasswordLength)!=null?r:!0),t.isValid&&(t.isValid=(i=t.meetsMaxPasswordLength)!=null?i:!0),t.isValid&&(t.isValid=(o=t.containsLowercaseLetter)!=null?o:!0),t.isValid&&(t.isValid=(a=t.containsUppercaseLetter)!=null?a:!0),t.isValid&&(t.isValid=(l=t.containsNumericCharacter)!=null?l:!0),t.isValid&&(t.isValid=(h=t.containsNonAlphanumericCharacter)!=null?h:!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var co=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oi(this),this.idTokenSubscription=new oi(this),this.beforeStateQueue=new oo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qe(t)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield si.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch(a){}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let t=yield ni(this,{idToken:e}),r=yield pt._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var o;if(he(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}let t=yield this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,h=yield this.tryRedirectSignIn(e);(!a||a===l)&&(h!=null&&h.user)&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return y(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield ri(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Dp()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(he(this.app))return Promise.reject(Je(this));let t=e?Se(e):null;return t&&N(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return y(this,null,function*(){if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return he(this.app)?Promise.reject(Je(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return he(this.app)?Promise.reject(Je(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(Qe(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield Gp(this),t=new ao(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new We("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qp(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}_setRedirectUser(e,t){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Qe(e)||this._popupRedirectResolver;N(t,this,"argument-error"),this.redirectPersistenceManager=yield si.create(this,[Qe(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=(r=(t=this.currentUser)==null?void 0:t.uid)!=null?r:null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof t=="function"){let h=e.addObserver(t,r,i);return()=>{a=!0,h()}}else{let h=e.addObserver(t);return()=>{a=!0,h()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var i;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=yield(i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return y(this,null,function*(){var t;if(he(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken();return e!=null&&e.error&&Cp("Error while retrieving App Check token: ".concat(e.error)),e==null?void 0:e.token})}};function Xe(n){return Se(n)}var oi=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xu(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ai={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hp(n){Ai=n}function Ol(n){return Ai.loadJS(n)}function Wp(){return Ai.recaptchaEnterpriseScript}function Kp(){return Ai.gapiScript}function xl(n){return"__".concat(n).concat(Math.floor(Math.random()*1e6))}var uo=class{constructor(){this.enterprise=new lo}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},lo=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Qp="recaptcha-enterprise",Gn="NO_RECAPTCHA",ai=class{constructor(e){this.type=Qp,this.auth=Xe(e)}verify(e="verify",t=!1){return y(this,null,function*(){function r(o){return y(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,l)=>y(null,null,function*(){wl(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let f=new ti(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{l(h)})}))})}function i(o,a,l){let h=window.grecaptcha;Yu(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(Gn)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uo().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(l=>{if(!t&&Yu(window.grecaptcha))i(l,o,a);else{if(typeof window=="undefined"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Wp();h.length!==0&&(h+=l),Ol(h).then(()=>{i(l,o,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})})}};function Bn(n,e,t,r=!1,i=!1){return y(this,null,function*(){let o=new ai(n),a;if(i)a=Gn;else try{a=yield o.verify(t)}catch(h){a=yield o.verify(t,!0)}let l=q({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){let h=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){let h=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l})}function Kt(n,e,t,r,i){return y(this,null,function*(){var o,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let l=yield Bn(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(l=>y(null,null,function*(){if(l.code==="auth/missing-recaptcha-token"){console.log("".concat(t," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));let h=yield Bn(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(l)}));else if(i==="PHONE_PROVIDER")if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){let l=yield Bn(n,e,t);return r(n,l).catch(h=>y(null,null,function*(){var f;if(((f=n._getRecaptchaConfig())==null?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(h.code==="auth/missing-recaptcha-token"||h.code==="auth/invalid-app-credential")){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(t," flow."));let _=yield Bn(n,e,t,!1,!0);return r(n,_)}return Promise.reject(h)}))}else{let l=yield Bn(n,e,t,!1,!0);return r(n,l)}else return Promise.reject(i+" provider is not supported.")})}function Jp(n){return y(this,null,function*(){let e=Xe(n),t=yield wl(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ti(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new ai(e).verify()})}function Vl(n,e){let t=St(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ve(o,e!=null?e:{}))return i;ke(i,"already-initialized")}return t.initialize({options:e})}function Yp(n,e){let t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Qe);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ll(n,e,t){let r=Xe(n);N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!(t!=null&&t.disableWarnings),o=Ml(e),{host:a,port:l}=Xp(e),h=l===null?"":":".concat(l),f={url:"".concat(o,"//").concat(a).concat(h,"/")},_=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){N(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),N(Ve(f,r.config.emulator)&&Ve(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,xe(a)?(jt("".concat(o,"//").concat(a).concat(h)),Gt("Auth",!0)):i||Zp()}function Ml(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Xp(n){let e=Ml(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:tl(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:tl(a)}}}function tl(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Zp(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Pt=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ue("not implemented")}_getIdTokenResponse(e){return Ue("not implemented")}_linkToIdToken(e,t){return Ue("not implemented")}_getReauthenticationResolver(e){return Ue("not implemented")}};function em(n,e){return y(this,null,function*(){return de(n,"POST","/v1/accounts:signUp",e)})}function tm(n,e){return y(this,null,function*(){return mt(n,"POST","/v1/accounts:signInWithPassword",se(n,e))})}function nm(n,e){return y(this,null,function*(){return mt(n,"POST","/v1/accounts:signInWithEmailLink",se(n,e))})}function rm(n,e){return y(this,null,function*(){return mt(n,"POST","/v1/accounts:signInWithEmailLink",se(n,e))})}var Wn=class n extends Pt{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return y(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kt(e,t,"signInWithPassword",tm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nm(e,{email:this._email,oobCode:this._password});default:ke(e,"internal-error")}})}_linkToIdToken(e,t){return y(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kt(e,r,"signUpPassword",em,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rm(e,{idToken:t,email:this._email,oobCode:this._password});default:ke(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Qt(n,e){return y(this,null,function*(){return mt(n,"POST","/v1/accounts:signInWithIdp",se(n,e))})}var im="http://localhost",Ct=class n extends Pt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ke("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let l=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=l,o=Ur(l,["providerId","signInMethod"]);if(!r||!i)return null;let a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let t=this.buildRequest();return Qt(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Qt(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Qt(e,t)}buildRequest(){let e={requestUri:im,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$t(t)}return e}};function nl(n,e){return y(this,null,function*(){return de(n,"POST","/v1/accounts:sendVerificationCode",se(n,e))})}function sm(n,e){return y(this,null,function*(){return mt(n,"POST","/v1/accounts:signInWithPhoneNumber",se(n,e))})}function om(n,e){return y(this,null,function*(){let t=yield mt(n,"POST","/v1/accounts:signInWithPhoneNumber",se(n,e));if(t.temporaryProof)throw qn(n,"account-exists-with-different-credential",t);return t})}var am={USER_NOT_FOUND:"user-not-found"};function cm(n,e){return y(this,null,function*(){let t=Pe(q({},e),{operation:"REAUTH"});return mt(n,"POST","/v1/accounts:signInWithPhoneNumber",se(n,t),am)})}var Kn=class n extends Pt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return sm(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return om(e,q({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return cm(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new n({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}};function um(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lm(n){let e=Ht(Wt(n)).link,t=e?Ht(Wt(e)).deep_link_id:null,r=Ht(Wt(n)).deep_link_id;return(r?Ht(Wt(r)).link:null)||r||t||e||n}var ci=class n{constructor(e){var a,l,h,f,_,T;let t=Ht(Wt(e)),r=(a=t.apiKey)!=null?a:null,i=(l=t.oobCode)!=null?l:null,o=um((h=t.mode)!=null?h:null);N(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=(f=t.continueUrl)!=null?f:null,this.languageCode=(_=t.lang)!=null?_:null,this.tenantId=(T=t.tenantId)!=null?T:null}static parseLink(e){let t=lm(e);try{return new n(t)}catch(r){return null}}};var kt=class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,t){return Wn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let r=ci.parseLink(t);return N(r,"argument-error"),Wn._fromEmailAndCode(e,r.code,r.tenantId)}};kt.PROVIDER_ID="password";kt.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ui=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Nt=class extends ui{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Qn=class n extends Nt{constructor(){super("facebook.com")}static credential(e){return Ct._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n.credential(e.oauthAccessToken)}catch(t){return null}}};Qn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qn.PROVIDER_ID="facebook.com";var Jn=class n extends Nt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ct._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return n.credential(t,r)}catch(i){return null}}};Jn.GOOGLE_SIGN_IN_METHOD="google.com";Jn.PROVIDER_ID="google.com";var Yn=class n extends Nt{constructor(){super("github.com")}static credential(e){return Ct._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n.credential(e.oauthAccessToken)}catch(t){return null}}};Yn.GITHUB_SIGN_IN_METHOD="github.com";Yn.PROVIDER_ID="github.com";var Xn=class n extends Nt{constructor(){super("twitter.com")}static credential(e,t){return Ct._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return n.credential(t,r)}catch(i){return null}}};Xn.TWITTER_SIGN_IN_METHOD="twitter.com";Xn.PROVIDER_ID="twitter.com";function hm(n,e){return y(this,null,function*(){return mt(n,"POST","/v1/accounts:signUp",se(n,e))})}var Jt=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(this,null,function*(){let o=yield pt._fromIdTokenResponse(e,r,i),a=rl(r);return new n({user:o,providerId:a,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=rl(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function rl(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var ho=class n extends _e{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!=null?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Fl(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ho._fromErrorAndOperation(n,o,e,r):o})}function dm(n,e,t=!1){return y(this,null,function*(){let r=yield $n(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Jt._forOperation(n,"link",r)})}function fm(n,e,t=!1){return y(this,null,function*(){let{auth:r}=n;if(he(r.app))return Promise.reject(Je(r));let i="reauthenticate";try{let o=yield $n(n,Fl(r,i,e,n),t);N(o.idToken,r,"internal-error");let a=Ao(o.idToken);N(a,r,"internal-error");let{sub:l}=a;return N(n.uid===l,r,"user-mismatch"),Jt._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ke(r,"user-mismatch"),o}})}function Ul(n,e,t=!1){return y(this,null,function*(){if(he(n.app))return Promise.reject(Je(n));let r="signIn",i=yield Fl(n,r,e),o=yield Jt._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Bl(n,e){return y(this,null,function*(){return Ul(Xe(n),e)})}function ql(n){return y(this,null,function*(){let e=Xe(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function bi(n,e,t){return y(this,null,function*(){if(he(n.app))return Promise.reject(Je(n));let r=Xe(n),a=yield Kt(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hm,"EMAIL_PASSWORD_PROVIDER").catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ql(n),h}),l=yield Jt._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(l.user),l})}function Si(n,e,t){return he(n.app)?Promise.reject(Je(n)):Bl(Se(n),kt.credential(e,t)).catch(r=>y(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ql(n),r}))}function zl(n,e,t,r){return Se(n).onIdTokenChanged(e,t,r)}function jl(n,e,t){return Se(n).beforeAuthStateChanged(e,t)}function Ri(n){return Se(n).signOut()}function il(n,e){return de(n,"POST","/v2/accounts/mfaEnrollment:start",se(n,e))}function pm(n,e){return de(n,"POST","/v2/accounts/mfaEnrollment:finalize",se(n,e))}function mm(n,e){return de(n,"POST","/v2/accounts/mfaEnrollment:start",se(n,e))}function gm(n,e){return de(n,"POST","/v2/accounts/mfaEnrollment:finalize",se(n,e))}var li="__sak";var hi=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(li,"1"),this.storage.removeItem(li),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _m=1e3,ym=10,di=class n extends hi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,h)=>{this.notifyListeners(a,h)});return}let r=e.key;t?this.detachListener():this.stopPolling();let i=()=>{let a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);jp()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ym):i()}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_m)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,t){return y(this,null,function*(){yield ut(n.prototype,this,"_set").call(this,e,t),this.localCache[e]=JSON.stringify(t)})}_get(e){return y(this,null,function*(){let t=yield ut(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(t),t})}_remove(e){return y(this,null,function*(){yield ut(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}};di.type="LOCAL";var Gl=di;var Im=1e3;function Xs(n){var r,i;let e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp("".concat(e,"=([^;]+)"));return(i=(r=document.cookie.match(t))==null?void 0:r[1])!=null?i:null}function Zs(n){let e=window.location.protocol==="http:";return"".concat(e?"__dev_":"__HOST-","FIREBASE_").concat(n.split(":")[3])}var fo=class{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;let t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}_isAvailable(){return y(this,null,function*(){var e;return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator=="undefined"||typeof document=="undefined"?!1:(e=navigator.cookieEnabled)!=null?e:!0})}_set(e,t){return y(this,null,function*(){})}_get(e){return y(this,null,function*(){if(!this._isAvailable())return null;let t=Zs(e);if(window.cookieStore){let r=yield window.cookieStore.get(t);return r==null?void 0:r.value}return Xs(t)})}_remove(e){return y(this,null,function*(){if(!this._isAvailable()||!(yield this._get(e)))return;let r=Zs(e);document.cookie="".concat(r,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),yield fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})})}_addListener(e,t){if(!this._isAvailable())return;let r=Zs(e);if(window.cookieStore){let l=(f=>{let _=f.changed.find(S=>S.name===r);_&&t(_.value),f.deleted.find(S=>S.name===r)&&t(null)}),h=()=>window.cookieStore.removeEventListener("change",l);return this.listenerUnsubscribes.set(t,h),window.cookieStore.addEventListener("change",l)}let i=Xs(r),o=setInterval(()=>{let l=Xs(r);l!==i&&(t(l),i=l)},Im),a=()=>clearInterval(o);this.listenerUnsubscribes.set(t,a)}_removeListener(e,t){let r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}};fo.type="COOKIE";var fi=class extends hi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};fi.type="SESSION";var So=fi;function wm(n){return Promise.all(n.map(e=>y(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var pi=class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;let r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return y(this,null,function*(){let t=e,{eventId:r,eventType:i,data:o}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});let l=Array.from(a).map(f=>y(this,null,function*(){return f(t.origin,o)})),h=yield wm(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};pi.receivers=[];function Ro(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var po=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return y(this,null,function*(){let i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((l,h)=>{let f=Ro("",20);i.port1.start();let _=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(T){let S=T;if(S.data.eventId===f)switch(S.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(S.data.response);break;default:clearTimeout(_),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function qe(){return window}function Em(n){qe().location.href=n}function $l(){return typeof qe().WorkerGlobalScope!="undefined"&&typeof qe().importScripts=="function"}function Tm(){return y(this,null,function*(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})}function vm(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function Am(){return $l()?self:null}var Hl="firebaseLocalStorageDb",bm=1,mi="firebaseLocalStorage",Wl="fbase_key",Dt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Pi(n,e){return n.transaction([mi],e?"readwrite":"readonly").objectStore(mi)}function Sm(){let n=indexedDB.deleteDatabase(Hl);return new Dt(n).toPromise()}function mo(){let n=indexedDB.open(Hl,bm);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(mi,{keyPath:Wl})}catch(i){t(i)}}),n.addEventListener("success",()=>y(null,null,function*(){let r=n.result;r.objectStoreNames.contains(mi)?e(r):(r.close(),yield Sm(),e(yield mo()))}))})}function sl(n,e,t){return y(this,null,function*(){let r=Pi(n,!0).put({[Wl]:e,value:t});return new Dt(r).toPromise()})}function Rm(n,e){return y(this,null,function*(){let t=Pi(n,!1).get(e),r=yield new Dt(t).toPromise();return r===void 0?null:r.value})}function ol(n,e){let t=Pi(n,!0).delete(e);return new Dt(t).toPromise()}var Pm=800,Cm=3,gi=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield mo(),this.db)})}_withRetries(e){return y(this,null,function*(){let t=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(t++>Cm)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return $l()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=pi._getInstance(Am()),this.receiver._subscribe("keyChanged",(e,t)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(t.key)}})),this.receiver._subscribe("ping",(e,t)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Tm(),!this.activeServiceWorker)return;this.sender=new po(this.activeServiceWorker);let e=yield this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let e=yield mo();return yield sl(e,li,"1"),yield ol(e,li),!0}catch(e){}return!1})}_withPendingWrite(e){return y(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,t){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>sl(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)}))})}_get(e){return y(this,null,function*(){let t=yield this._withRetries(r=>Rm(r,e));return this.localCache[e]=t,t})}_remove(e){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(t=>ol(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return y(this,null,function*(){let e=yield this._withRetries(i=>{let o=Pi(i,!1).getAll();return new Dt(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let t=[],r=new Set;if(e.length!==0)for(let{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(let i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t})}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),Pm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};gi.type="LOCAL";var Kl=gi;function al(n,e){return de(n,"POST","/v2/accounts/mfaSignIn:start",se(n,e))}function km(n,e){return de(n,"POST","/v2/accounts/mfaSignIn:finalize",se(n,e))}function Nm(n,e){return de(n,"POST","/v2/accounts/mfaSignIn:finalize",se(n,e))}var Qy=xl("rcb"),Jy=new Rt(3e4,6e4);var Jr="recaptcha";function Dm(n,e,t){return y(this,null,function*(){var r;if(!n._getRecaptchaConfig())try{yield Jp(n)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let o=i.session;if("phoneNumber"in i){N(o.type==="enroll",n,"internal-error");let a={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield Kt(n,a,"mfaSmsEnrollment",(_,T)=>y(null,null,function*(){if(T.phoneEnrollmentInfo.captchaResponse===Gn){N((t==null?void 0:t.type)===Jr,_,"argument-error");let S=yield eo(_,T,t);return il(_,S)}return il(_,T)}),"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneSessionInfo.sessionInfo}else{N(o.type==="signin",n,"internal-error");let a=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;N(a,n,"missing-multi-factor-info");let l={mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield Kt(n,l,"mfaSmsSignIn",(T,S)=>y(null,null,function*(){if(S.phoneSignInInfo.captchaResponse===Gn){N((t==null?void 0:t.type)===Jr,T,"argument-error");let C=yield eo(T,S,t);return al(T,C)}return al(T,S)}),"PHONE_PROVIDER").catch(T=>Promise.reject(T))).phoneResponseInfo.sessionInfo}}else{let o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield Kt(n,o,"sendVerificationCode",(f,_)=>y(null,null,function*(){if(_.captchaResponse===Gn){N((t==null?void 0:t.type)===Jr,f,"argument-error");let T=yield eo(f,_,t);return nl(f,T)}return nl(f,_)}),"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}})}function eo(n,e,t){return y(this,null,function*(){N(t.type===Jr,n,"argument-error");let r=yield t.verify();N(typeof r=="string",n,"argument-error");let i=q({},e);if("phoneEnrollmentInfo"in i){let o=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,l=i.phoneEnrollmentInfo.clientType,h=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:h}}),i}else if("phoneSignInInfo"in i){let o=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,l=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:l}}),i}else return Object.assign(i,{recaptchaToken:r}),i})}var Zn=class n{constructor(e){this.providerId=n.PROVIDER_ID,this.auth=Xe(e)}verifyPhoneNumber(e,t){return Dm(this.auth,e,Se(t))}static credential(e,t){return Kn._fromVerification(e,t)}static credentialFromResult(e){let t=e;return n.credentialFromTaggedObject(t)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:r}=e;return t&&r?Kn._fromTokenResponse(t,r):null}};Zn.PROVIDER_ID="phone";Zn.PHONE_SIGN_IN_METHOD="phone";function Om(n,e){return e?Qe(e):(N(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var er=class extends Pt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qt(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function xm(n){return Ul(n.auth,new er(n),n.bypassAuthState)}function Vm(n){let{auth:e,user:t}=n;return N(t,e,"internal-error"),fm(t,new er(n),n.bypassAuthState)}function Lm(n){return y(this,null,function*(){let{auth:e,user:t}=n;return N(t,e,"internal-error"),dm(t,new er(n),n.bypassAuthState)})}var _i=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(h))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xm;case"linkViaPopup":case"linkViaRedirect":return Lm;case"reauthViaPopup":case"reauthViaRedirect":return Vm;default:ke(this.auth,"internal-error")}}resolve(e){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Mm=new Rt(2e3,1e4);var go=class n extends _i{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return y(this,null,function*(){let e=yield this.execute();return N(e,this.auth,"internal-error"),e})}onExecution(){return y(this,null,function*(){Ye(this.filter.length===1,"Popup operations only handle one event");let e=Ro();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Be(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mm.get())};e()}};go.currentPopupAction=null;var Fm="pendingRedirect",Yr=new Map,_o=class n extends _i{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=Yr.get(this.auth._key());if(!e){try{let r=(yield Um(this.resolver,this.auth))?yield ut(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yr.set(this.auth._key(),e)}return this.bypassAuthState||Yr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return ut(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ut(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function Um(n,e){return y(this,null,function*(){let t=zm(e),r=qm(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Bm(n,e){Yr.set(n._key(),e)}function qm(n){return Qe(n._redirectPersistence)}function zm(n){return Qr(Fm,n.config.apiKey,n.name)}function jm(n,e,t=!1){return y(this,null,function*(){if(he(n.app))return Promise.reject(Je(n));let r=Xe(n),i=Om(r,e),a=yield new _o(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var Gm=600*1e3,yo=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$m(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ql(e)){let i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Be(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gm&&this.cachedEventUids.clear(),this.cachedEventUids.has(cl(e))}saveEventToCache(e){this.cachedEventUids.add(cl(e)),this.lastProcessedEventTime=Date.now()}};function cl(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ql({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $m(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ql(n);default:return!1}}function Hm(t){return y(this,arguments,function*(n,e={}){return de(n,"GET","/v1/projects",e)})}var Wm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Km=/^https?/;function Qm(n){return y(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Hm(n);for(let t of e)try{if(Jm(t))return}catch(r){}ke(n,"unauthorized-domain")})}function Jm(n){let e=no(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!Km.test(t))return!1;if(Wm.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Ym=new Rt(3e4,6e4);function ul(){let n=qe().___jsl;if(n!=null&&n.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Xm(n){return new Promise((e,t)=>{var i,o,a;function r(){ul(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ul(),t(Be(n,"network-request-failed"))},timeout:Ym.get()})}if((o=(i=qe().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=qe().gapi)!=null&&a.load)r();else{let l=xl("iframefcb");return qe()[l]=()=>{gapi.load?r():t(Be(n,"network-request-failed"))},Ol("".concat(Kp(),"?onload=").concat(l)).catch(h=>t(h))}}).catch(e=>{throw Xr=null,e})}var Xr=null;function Zm(n){return Xr=Xr||Xm(n),Xr}var eg=new Rt(5e3,15e3),tg="__/auth/iframe",ng="emulator/auth/iframe",rg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ig=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sg(n){let e=n.config;N(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?vo(e,ng):"https://".concat(n.config.authDomain,"/").concat(tg),r={apiKey:e.apiKey,appName:n.name,v:Fe},i=ig.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(t,"?").concat($t(r).slice(1))}function og(n){return y(this,null,function*(){let e=yield Zm(n),t=qe().gapi;return N(t,n,"internal-error"),e.open({where:document.body,url:sg(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rg,dontclear:!0},r=>new Promise((i,o)=>y(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=Be(n,"network-request-failed"),l=qe().setTimeout(()=>{o(a)},eg.get());function h(){qe().clearTimeout(l),i(r)}r.ping(h).then(h,()=>{o(a)})})))})}var ag={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cg=500,ug=600,lg="_blank",hg="http://localhost",yi=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}};function dg(n,e,t,r=cg,i=ug){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",h=Pe(q({},ag),{width:r.toString(),height:i.toString(),top:o,left:a}),f=ae().toLowerCase();t&&(l=Sl(f)?lg:t),Al(f)&&(e=e||hg,h.scrollbars="yes");let _=Object.entries(h).reduce((S,[C,D])=>"".concat(S).concat(C,"=").concat(D,","),"");if(zp(f)&&l!=="_self")return fg(e||"",l),new yi(null);let T=window.open(e||"",l,_);N(T,n,"popup-blocked");try{T.focus()}catch(S){}return new yi(T)}function fg(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var pg="__/auth/handler",mg="emulator/auth/handler",gg=encodeURIComponent("fac");function ll(n,e,t,r,i,o){return y(this,null,function*(){N(n.config.authDomain,n,"auth-domain-config-required"),N(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fe,eventId:i};if(e instanceof ui){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Ou(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[_,T]of Object.entries(o||{}))a[_]=T}if(e instanceof Nt){let _=e.getScopes().filter(T=>T!=="");_.length>0&&(a.scopes=_.join(","))}n.tenantId&&(a.tid=n.tenantId);let l=a;for(let _ of Object.keys(l))l[_]===void 0&&delete l[_];let h=yield n._getAppCheckToken(),f=h?"#".concat(gg,"=").concat(encodeURIComponent(h)):"";return"".concat(_g(n),"?").concat($t(l).slice(1)).concat(f)})}function _g({config:n}){return n.emulator?vo(n,mg):"https://".concat(n.authDomain,"/").concat(pg)}var to="webStorageSupport",Io=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=So,this._completeRedirectFn=jm,this._overrideRedirectResult=Bm}_openPopup(e,t,r,i){return y(this,null,function*(){var a;Ye((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");let o=yield ll(e,t,r,no(),i);return dg(e,o,Ro())})}_openRedirect(e,t,r,i){return y(this,null,function*(){yield this._originValidation(e);let o=yield ll(e,t,r,no(),i);return Em(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ye(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return y(this,null,function*(){let t=yield og(e),r=new yo(e);return t.register("authEvent",i=>(N(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(to,{type:to},i=>{var a;let o=(a=i==null?void 0:i[0])==null?void 0:a[to];o!==void 0&&t(!!o),ke(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Qm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nl()||bl()||bo()}},Jl=Io,Ii=class{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ue("unexpected MultiFactorSessionType")}}},wo=class n extends Ii{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new n(e)}_finalizeEnroll(e,t,r){return pm(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return km(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},wi=class{constructor(){}static assertion(e){return wo._fromCredential(e)}};wi.FACTOR_ID="phone";var Ei=class{static assertionForEnrollment(e,t){return Ti._fromSecret(e,t)}static assertionForSignIn(e,t){return Ti._fromEnrollmentId(e,t)}static generateSecret(e){return y(this,null,function*(){var i;let t=e;N(typeof((i=t.user)==null?void 0:i.auth)!="undefined","internal-error");let r=yield mm(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return vi._fromStartTotpMfaEnrollmentResponse(r,t.user.auth)})}};Ei.FACTOR_ID="totp";var Ti=class n extends Ii{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new n(t,void 0,e)}static _fromEnrollmentId(e,t){return new n(t,e)}_finalizeEnroll(e,t,r){return y(this,null,function*(){return N(typeof this.secret!="undefined",e,"argument-error"),gm(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})})}_finalizeSignIn(e,t){return y(this,null,function*(){N(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");let r={verificationCode:this.otp};return Nm(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})})}},vi=class n{constructor(e,t,r,i,o,a,l){this.sessionInfo=a,this.auth=l,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=o}static _fromStartTotpMfaEnrollmentResponse(e,t){return new n(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var i;let r=!1;return(Wr(e)||Wr(t))&&(r=!0),r&&(Wr(e)&&(e=((i=this.auth.currentUser)==null?void 0:i.email)||"unknownuser"),Wr(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}};function Wr(n){return typeof n=="undefined"||(n==null?void 0:n.length)===0}var hl="@firebase/auth",dl="1.11.1";var Eo=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function yg(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ig(n){Me(new we("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;N(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let h={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dl(n)},f=new co(r,i,o,h);return Yp(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Me(new we("auth-internal",e=>{let t=Xe(e.getProvider("auth").getImmediate());return(r=>new Eo(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ee(hl,dl,yg(n)),Ee(hl,dl,"esm2020")}var wg=300,Eg=xs("authIdTokenMaxAge")||wg,fl=null,Tg=n=>e=>y(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Eg)return;let i=t==null?void 0:t.token;fl!==i&&(fl=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});function Po(n=dt()){let e=St(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Vl(n,{popupRedirectResolver:Jl,persistence:[Kl,Gl,So]}),r=xs("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=Tg(o.toString());jl(t,a,()=>a(t.currentUser)),zl(t,l=>a(l))}}let i=Ds("auth");return i&&Ll(t,"http://".concat(i)),t}function vg(){var n,e;return(e=(n=document.getElementsByTagName("head"))==null?void 0:n[0])!=null?e:document}Hp({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Be("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",vg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ig("Browser");var Yl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Xl={};var Ci,Zl;(function(){var n;function e(w,p){function g(){}g.prototype=p.prototype,w.F=p.prototype,w.prototype=new g,w.prototype.constructor=w,w.D=function(E,I,A){for(var m=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)m[Ie-2]=arguments[Ie];return p.prototype[I].apply(E,m)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,p,g){g||(g=0);let E=Array(16);if(typeof p=="string")for(var I=0;I<16;++I)E[I]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(I=0;I<16;++I)E[I]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=w.g[0],g=w.g[1],I=w.g[2];let A=w.g[3],m;m=p+(A^g&(I^A))+E[0]+3614090360&4294967295,p=g+(m<<7&4294967295|m>>>25),m=A+(I^p&(g^I))+E[1]+3905402710&4294967295,A=p+(m<<12&4294967295|m>>>20),m=I+(g^A&(p^g))+E[2]+606105819&4294967295,I=A+(m<<17&4294967295|m>>>15),m=g+(p^I&(A^p))+E[3]+3250441966&4294967295,g=I+(m<<22&4294967295|m>>>10),m=p+(A^g&(I^A))+E[4]+4118548399&4294967295,p=g+(m<<7&4294967295|m>>>25),m=A+(I^p&(g^I))+E[5]+1200080426&4294967295,A=p+(m<<12&4294967295|m>>>20),m=I+(g^A&(p^g))+E[6]+2821735955&4294967295,I=A+(m<<17&4294967295|m>>>15),m=g+(p^I&(A^p))+E[7]+4249261313&4294967295,g=I+(m<<22&4294967295|m>>>10),m=p+(A^g&(I^A))+E[8]+1770035416&4294967295,p=g+(m<<7&4294967295|m>>>25),m=A+(I^p&(g^I))+E[9]+2336552879&4294967295,A=p+(m<<12&4294967295|m>>>20),m=I+(g^A&(p^g))+E[10]+4294925233&4294967295,I=A+(m<<17&4294967295|m>>>15),m=g+(p^I&(A^p))+E[11]+2304563134&4294967295,g=I+(m<<22&4294967295|m>>>10),m=p+(A^g&(I^A))+E[12]+1804603682&4294967295,p=g+(m<<7&4294967295|m>>>25),m=A+(I^p&(g^I))+E[13]+4254626195&4294967295,A=p+(m<<12&4294967295|m>>>20),m=I+(g^A&(p^g))+E[14]+2792965006&4294967295,I=A+(m<<17&4294967295|m>>>15),m=g+(p^I&(A^p))+E[15]+1236535329&4294967295,g=I+(m<<22&4294967295|m>>>10),m=p+(I^A&(g^I))+E[1]+4129170786&4294967295,p=g+(m<<5&4294967295|m>>>27),m=A+(g^I&(p^g))+E[6]+3225465664&4294967295,A=p+(m<<9&4294967295|m>>>23),m=I+(p^g&(A^p))+E[11]+643717713&4294967295,I=A+(m<<14&4294967295|m>>>18),m=g+(A^p&(I^A))+E[0]+3921069994&4294967295,g=I+(m<<20&4294967295|m>>>12),m=p+(I^A&(g^I))+E[5]+3593408605&4294967295,p=g+(m<<5&4294967295|m>>>27),m=A+(g^I&(p^g))+E[10]+38016083&4294967295,A=p+(m<<9&4294967295|m>>>23),m=I+(p^g&(A^p))+E[15]+3634488961&4294967295,I=A+(m<<14&4294967295|m>>>18),m=g+(A^p&(I^A))+E[4]+3889429448&4294967295,g=I+(m<<20&4294967295|m>>>12),m=p+(I^A&(g^I))+E[9]+568446438&4294967295,p=g+(m<<5&4294967295|m>>>27),m=A+(g^I&(p^g))+E[14]+3275163606&4294967295,A=p+(m<<9&4294967295|m>>>23),m=I+(p^g&(A^p))+E[3]+4107603335&4294967295,I=A+(m<<14&4294967295|m>>>18),m=g+(A^p&(I^A))+E[8]+1163531501&4294967295,g=I+(m<<20&4294967295|m>>>12),m=p+(I^A&(g^I))+E[13]+2850285829&4294967295,p=g+(m<<5&4294967295|m>>>27),m=A+(g^I&(p^g))+E[2]+4243563512&4294967295,A=p+(m<<9&4294967295|m>>>23),m=I+(p^g&(A^p))+E[7]+1735328473&4294967295,I=A+(m<<14&4294967295|m>>>18),m=g+(A^p&(I^A))+E[12]+2368359562&4294967295,g=I+(m<<20&4294967295|m>>>12),m=p+(g^I^A)+E[5]+4294588738&4294967295,p=g+(m<<4&4294967295|m>>>28),m=A+(p^g^I)+E[8]+2272392833&4294967295,A=p+(m<<11&4294967295|m>>>21),m=I+(A^p^g)+E[11]+1839030562&4294967295,I=A+(m<<16&4294967295|m>>>16),m=g+(I^A^p)+E[14]+4259657740&4294967295,g=I+(m<<23&4294967295|m>>>9),m=p+(g^I^A)+E[1]+2763975236&4294967295,p=g+(m<<4&4294967295|m>>>28),m=A+(p^g^I)+E[4]+1272893353&4294967295,A=p+(m<<11&4294967295|m>>>21),m=I+(A^p^g)+E[7]+4139469664&4294967295,I=A+(m<<16&4294967295|m>>>16),m=g+(I^A^p)+E[10]+3200236656&4294967295,g=I+(m<<23&4294967295|m>>>9),m=p+(g^I^A)+E[13]+681279174&4294967295,p=g+(m<<4&4294967295|m>>>28),m=A+(p^g^I)+E[0]+3936430074&4294967295,A=p+(m<<11&4294967295|m>>>21),m=I+(A^p^g)+E[3]+3572445317&4294967295,I=A+(m<<16&4294967295|m>>>16),m=g+(I^A^p)+E[6]+76029189&4294967295,g=I+(m<<23&4294967295|m>>>9),m=p+(g^I^A)+E[9]+3654602809&4294967295,p=g+(m<<4&4294967295|m>>>28),m=A+(p^g^I)+E[12]+3873151461&4294967295,A=p+(m<<11&4294967295|m>>>21),m=I+(A^p^g)+E[15]+530742520&4294967295,I=A+(m<<16&4294967295|m>>>16),m=g+(I^A^p)+E[2]+3299628645&4294967295,g=I+(m<<23&4294967295|m>>>9),m=p+(I^(g|~A))+E[0]+4096336452&4294967295,p=g+(m<<6&4294967295|m>>>26),m=A+(g^(p|~I))+E[7]+1126891415&4294967295,A=p+(m<<10&4294967295|m>>>22),m=I+(p^(A|~g))+E[14]+2878612391&4294967295,I=A+(m<<15&4294967295|m>>>17),m=g+(A^(I|~p))+E[5]+4237533241&4294967295,g=I+(m<<21&4294967295|m>>>11),m=p+(I^(g|~A))+E[12]+1700485571&4294967295,p=g+(m<<6&4294967295|m>>>26),m=A+(g^(p|~I))+E[3]+2399980690&4294967295,A=p+(m<<10&4294967295|m>>>22),m=I+(p^(A|~g))+E[10]+4293915773&4294967295,I=A+(m<<15&4294967295|m>>>17),m=g+(A^(I|~p))+E[1]+2240044497&4294967295,g=I+(m<<21&4294967295|m>>>11),m=p+(I^(g|~A))+E[8]+1873313359&4294967295,p=g+(m<<6&4294967295|m>>>26),m=A+(g^(p|~I))+E[15]+4264355552&4294967295,A=p+(m<<10&4294967295|m>>>22),m=I+(p^(A|~g))+E[6]+2734768916&4294967295,I=A+(m<<15&4294967295|m>>>17),m=g+(A^(I|~p))+E[13]+1309151649&4294967295,g=I+(m<<21&4294967295|m>>>11),m=p+(I^(g|~A))+E[4]+4149444226&4294967295,p=g+(m<<6&4294967295|m>>>26),m=A+(g^(p|~I))+E[11]+3174756917&4294967295,A=p+(m<<10&4294967295|m>>>22),m=I+(p^(A|~g))+E[2]+718787259&4294967295,I=A+(m<<15&4294967295|m>>>17),m=g+(A^(I|~p))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(I+(m<<21&4294967295|m>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+A&4294967295}r.prototype.v=function(w,p){p===void 0&&(p=w.length);let g=p-this.blockSize,E=this.C,I=this.h,A=0;for(;A<p;){if(I==0)for(;A<=g;)i(this,w,A),A+=this.blockSize;if(typeof w=="string"){for(;A<p;)if(E[I++]=w.charCodeAt(A++),I==this.blockSize){i(this,E),I=0;break}}else for(;A<p;)if(E[I++]=w[A++],I==this.blockSize){i(this,E),I=0;break}}this.h=I,this.o+=p},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;p=this.o*8;for(var g=w.length-8;g<w.length;++g)w[g]=p&255,p/=256;for(this.v(w),w=Array(16),p=0,g=0;g<4;++g)for(let E=0;E<32;E+=8)w[p++]=this.g[g]>>>E&255;return w};function o(w,p){var g=l;return Object.prototype.hasOwnProperty.call(g,w)?g[w]:g[w]=p(w)}function a(w,p){this.h=p;let g=[],E=!0;for(let I=w.length-1;I>=0;I--){let A=w[I]|0;E&&A==p||(g[I]=A,E=!1)}this.g=g}var l={};function h(w){return-128<=w&&w<128?o(w,function(p){return new a([p|0],p<0?-1:0)}):new a([w|0],w<0?-1:0)}function f(w){if(isNaN(w)||!isFinite(w))return T;if(w<0)return O(f(-w));let p=[],g=1;for(let E=0;w>=g;E++)p[E]=w/g|0,g*=4294967296;return new a(p,0)}function _(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,p<2||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return O(_(w.substring(1),p));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let g=f(Math.pow(p,8)),E=T;for(let A=0;A<w.length;A+=8){var I=Math.min(8,w.length-A);let m=parseInt(w.substring(A,A+I),p);I<8?(I=f(Math.pow(p,I)),E=E.j(I).add(f(m))):(E=E.j(g),E=E.add(f(m)))}return E}var T=h(0),S=h(1),C=h(16777216);n=a.prototype,n.m=function(){if(V(this))return-O(this).m();let w=0,p=1;for(let g=0;g<this.g.length;g++){let E=this.i(g);w+=(E>=0?E:4294967296+E)*p,p*=4294967296}return w},n.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D(this))return"0";if(V(this))return"-"+O(this).toString(w);let p=f(Math.pow(w,6));var g=this;let E="";for(;;){let I=j(g,p).g;g=K(g,I.j(p));let A=((g.g.length>0?g.g[0]:g.h)>>>0).toString(w);if(g=I,D(g))return A+E;for(;A.length<6;)A="0"+A;E=A+E}},n.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function D(w){if(w.h!=0)return!1;for(let p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function V(w){return w.h==-1}n.l=function(w){return w=K(this,w),V(w)?-1:D(w)?0:1};function O(w){let p=w.g.length,g=[];for(let E=0;E<p;E++)g[E]=~w.g[E];return new a(g,~w.h).add(S)}n.abs=function(){return V(this)?O(this):this},n.add=function(w){let p=Math.max(this.g.length,w.g.length),g=[],E=0;for(let I=0;I<=p;I++){let A=E+(this.i(I)&65535)+(w.i(I)&65535),m=(A>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);E=m>>>16,A&=65535,m&=65535,g[I]=m<<16|A}return new a(g,g[g.length-1]&-2147483648?-1:0)};function K(w,p){return w.add(O(p))}n.j=function(w){if(D(this)||D(w))return T;if(V(this))return V(w)?O(this).j(O(w)):O(O(this).j(w));if(V(w))return O(this.j(O(w)));if(this.l(C)<0&&w.l(C)<0)return f(this.m()*w.m());let p=this.g.length+w.g.length,g=[];for(var E=0;E<2*p;E++)g[E]=0;for(E=0;E<this.g.length;E++)for(let I=0;I<w.g.length;I++){let A=this.i(E)>>>16,m=this.i(E)&65535,Ie=w.i(I)>>>16,nt=w.i(I)&65535;g[2*E+2*I]+=m*nt,W(g,2*E+2*I),g[2*E+2*I+1]+=A*nt,W(g,2*E+2*I+1),g[2*E+2*I+1]+=m*Ie,W(g,2*E+2*I+1),g[2*E+2*I+2]+=A*Ie,W(g,2*E+2*I+2)}for(w=0;w<p;w++)g[w]=g[2*w+1]<<16|g[2*w];for(w=p;w<2*p;w++)g[w]=0;return new a(g,0)};function W(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function G(w,p){this.g=w,this.h=p}function j(w,p){if(D(p))throw Error("division by zero");if(D(w))return new G(T,T);if(V(w))return p=j(O(w),p),new G(O(p.g),O(p.h));if(V(p))return p=j(w,O(p)),new G(O(p.g),p.h);if(w.g.length>30){if(V(w)||V(p))throw Error("slowDivide_ only works with positive integers.");for(var g=S,E=p;E.l(w)<=0;)g=re(g),E=re(E);var I=J(g,1),A=J(E,1);for(E=J(E,2),g=J(g,2);!D(E);){var m=A.add(E);m.l(w)<=0&&(I=I.add(g),A=m),E=J(E,1),g=J(g,1)}return p=K(w,I.j(p)),new G(I,p)}for(I=T;w.l(p)>=0;){for(g=Math.max(1,Math.floor(w.m()/p.m())),E=Math.ceil(Math.log(g)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),A=f(g),m=A.j(p);V(m)||m.l(w)>0;)g-=E,A=f(g),m=A.j(p);D(A)&&(A=S),I=I.add(A),w=K(w,m)}return new G(I,w)}n.B=function(w){return j(this,w).h},n.and=function(w){let p=Math.max(this.g.length,w.g.length),g=[];for(let E=0;E<p;E++)g[E]=this.i(E)&w.i(E);return new a(g,this.h&w.h)},n.or=function(w){let p=Math.max(this.g.length,w.g.length),g=[];for(let E=0;E<p;E++)g[E]=this.i(E)|w.i(E);return new a(g,this.h|w.h)},n.xor=function(w){let p=Math.max(this.g.length,w.g.length),g=[];for(let E=0;E<p;E++)g[E]=this.i(E)^w.i(E);return new a(g,this.h^w.h)};function re(w){let p=w.g.length+1,g=[];for(let E=0;E<p;E++)g[E]=w.i(E)<<1|w.i(E-1)>>>31;return new a(g,w.h)}function J(w,p){let g=p>>5;p%=32;let E=w.g.length-g,I=[];for(let A=0;A<E;A++)I[A]=p>0?w.i(A+g)>>>p|w.i(A+g+1)<<32-p:w.i(A+g);return new a(I,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Zl=Xl.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=_,Ci=Xl.Integer=a}).apply(typeof Yl!="undefined"?Yl:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var ki=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ze={};var Co,bg,Yt,ko,tr,Ni,No,Do,Oo;(function(){var n,e=Object.defineProperty;function t(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof ki=="object"&&ki];for(var c=0;c<s.length;++c){var u=s[c];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var r=t(this);function i(s,c){if(c)e:{var u=r;s=s.split(".");for(var d=0;d<s.length-1;d++){var v=s[d];if(!(v in u))break e;u=u[v]}s=s[s.length-1],d=u[s],c=c(d),c!=d&&c!=null&&e(u,s,{configurable:!0,writable:!0,value:c})}}i("Symbol.dispose",function(s){return s||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(s){return s||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(s){return s||function(c){var u=[],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&u.push([d,c[d]]);return u}});var o=o||{},a=this||self;function l(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function h(s,c,u){return s.call.apply(s.bind,arguments)}function f(s,c,u){return f=h,f.apply(null,arguments)}function _(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),s.apply(this,d)}}function T(s,c){function u(){}u.prototype=c.prototype,s.Z=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.Ob=function(d,v,b){for(var P=Array(arguments.length-2),M=2;M<arguments.length;M++)P[M-2]=arguments[M];return c.prototype[v].apply(d,P)}}var S=typeof AsyncContext!="undefined"&&typeof AsyncContext.Snapshot=="function"?s=>s&&AsyncContext.Snapshot.wrap(s):s=>s;function C(s){let c=s.length;if(c>0){let u=Array(c);for(let d=0;d<c;d++)u[d]=s[d];return u}return[]}function D(s,c){for(let d=1;d<arguments.length;d++){let v=arguments[d];var u=typeof v;if(u=u!="object"?u:v?Array.isArray(v)?"array":u:"null",u=="array"||u=="object"&&typeof v.length=="number"){u=s.length||0;let b=v.length||0;s.length=u+b;for(let P=0;P<b;P++)s[u+P]=v[P]}else s.push(v)}}class V{constructor(c,u){this.i=c,this.j=u,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function O(s){a.setTimeout(()=>{throw s},0)}function K(){var s=w;let c=null;return s.g&&(c=s.g,s.g=s.g.next,s.g||(s.h=null),c.next=null),c}class W{constructor(){this.h=this.g=null}add(c,u){let d=G.get();d.set(c,u),this.h?this.h.next=d:this.g=d,this.h=d}}var G=new V(()=>new j,s=>s.reset());class j{constructor(){this.next=this.g=this.h=null}set(c,u){this.h=c,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let re,J=!1,w=new W,p=()=>{let s=Promise.resolve(void 0);re=()=>{s.then(g)}};function g(){for(var s;s=K();){try{s.h.call(s.g)}catch(u){O(u)}var c=G;c.j(s),c.h<100&&(c.h++,s.next=c.g,c.g=s)}J=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(s,c){this.type=s,this.g=this.target=c,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{let u=()=>{};a.addEventListener("test",u,c),a.removeEventListener("test",u,c)}catch(u){}return s})();function m(s){return/^[\s\xa0]*$/.test(s)}function Ie(s,c){I.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s&&this.init(s,c)}T(Ie,I),Ie.prototype.init=function(s,c){let u=this.type=s.type,d=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget,c||(u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement)),this.relatedTarget=c,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=s.pointerType,this.state=s.state,this.i=s,s.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);let s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),Nd=0;function Dd(s,c,u,d,v){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!d,this.ha=v,this.key=++Nd,this.da=this.fa=!1}function Tr(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function vr(s,c,u){for(let d in s)c.call(u,s[d],d,s)}function Od(s,c){for(let u in s)c.call(void 0,s[u],u,s)}function mc(s){let c={};for(let u in s)c[u]=s[u];return c}let gc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _c(s,c){let u,d;for(let v=1;v<arguments.length;v++){d=arguments[v];for(u in d)s[u]=d[u];for(let b=0;b<gc.length;b++)u=gc[b],Object.prototype.hasOwnProperty.call(d,u)&&(s[u]=d[u])}}function Ar(s){this.src=s,this.g={},this.h=0}Ar.prototype.add=function(s,c,u,d,v){let b=s.toString();s=this.g[b],s||(s=this.g[b]=[],this.h++);let P=os(s,c,d,v);return P>-1?(c=s[P],u||(c.fa=!1)):(c=new Dd(c,this.src,b,!!d,v),c.fa=u,s.push(c)),c};function ss(s,c){let u=c.type;if(u in s.g){var d=s.g[u],v=Array.prototype.indexOf.call(d,c,void 0),b;(b=v>=0)&&Array.prototype.splice.call(d,v,1),b&&(Tr(c),s.g[u].length==0&&(delete s.g[u],s.h--))}}function os(s,c,u,d){for(let v=0;v<s.length;++v){let b=s[v];if(!b.da&&b.listener==c&&b.capture==!!u&&b.ha==d)return v}return-1}var as="closure_lm_"+(Math.random()*1e6|0),cs={};function yc(s,c,u,d,v){if(d&&d.once)return wc(s,c,u,d,v);if(Array.isArray(c)){for(let b=0;b<c.length;b++)yc(s,c[b],u,d,v);return null}return u=ds(u),s&&s[nt]?s.J(c,u,l(d)?!!d.capture:!!d,v):Ic(s,c,u,!1,d,v)}function Ic(s,c,u,d,v,b){if(!c)throw Error("Invalid event type");let P=l(v)?!!v.capture:!!v,M=ls(s);if(M||(s[as]=M=new Ar(s)),u=M.add(c,u,d,P,b),u.proxy)return u;if(d=xd(),u.proxy=d,d.src=s,d.listener=u,s.addEventListener)A||(v=P),v===void 0&&(v=!1),s.addEventListener(c.toString(),d,v);else if(s.attachEvent)s.attachEvent(Tc(c.toString()),d);else if(s.addListener&&s.removeListener)s.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function xd(){function s(u){return c.call(s.src,s.listener,u)}let c=Vd;return s}function wc(s,c,u,d,v){if(Array.isArray(c)){for(let b=0;b<c.length;b++)wc(s,c[b],u,d,v);return null}return u=ds(u),s&&s[nt]?s.K(c,u,l(d)?!!d.capture:!!d,v):Ic(s,c,u,!0,d,v)}function Ec(s,c,u,d,v){if(Array.isArray(c))for(var b=0;b<c.length;b++)Ec(s,c[b],u,d,v);else d=l(d)?!!d.capture:!!d,u=ds(u),s&&s[nt]?(s=s.i,b=String(c).toString(),b in s.g&&(c=s.g[b],u=os(c,u,d,v),u>-1&&(Tr(c[u]),Array.prototype.splice.call(c,u,1),c.length==0&&(delete s.g[b],s.h--)))):s&&(s=ls(s))&&(c=s.g[c.toString()],s=-1,c&&(s=os(c,u,d,v)),(u=s>-1?c[s]:null)&&us(u))}function us(s){if(typeof s!="number"&&s&&!s.da){var c=s.src;if(c&&c[nt])ss(c.i,s);else{var u=s.type,d=s.proxy;c.removeEventListener?c.removeEventListener(u,d,s.capture):c.detachEvent?c.detachEvent(Tc(u),d):c.addListener&&c.removeListener&&c.removeListener(d),(u=ls(c))?(ss(u,s),u.h==0&&(u.src=null,c[as]=null)):Tr(s)}}}function Tc(s){return s in cs?cs[s]:cs[s]="on"+s}function Vd(s,c){if(s.da)s=!0;else{c=new Ie(c,this);let u=s.listener,d=s.ha||s.src;s.fa&&us(s),s=u.call(d,c)}return s}function ls(s){return s=s[as],s instanceof Ar?s:null}var hs="__closure_events_fn_"+(Math.random()*1e9>>>0);function ds(s){return typeof s=="function"?s:(s[hs]||(s[hs]=function(c){return s.handleEvent(c)}),s[hs])}function le(){E.call(this),this.i=new Ar(this),this.M=this,this.G=null}T(le,E),le.prototype[nt]=!0,le.prototype.removeEventListener=function(s,c,u,d){Ec(this,s,c,u,d)};function me(s,c){var u,d=s.G;if(d)for(u=[];d;d=d.G)u.push(d);if(s=s.M,d=c.type||c,typeof c=="string")c=new I(c,s);else if(c instanceof I)c.target=c.target||s;else{var v=c;c=new I(d,s),_c(c,v)}v=!0;let b,P;if(u)for(P=u.length-1;P>=0;P--)b=c.g=u[P],v=br(b,d,!0,c)&&v;if(b=c.g=s,v=br(b,d,!0,c)&&v,v=br(b,d,!1,c)&&v,u)for(P=0;P<u.length;P++)b=c.g=u[P],v=br(b,d,!1,c)&&v}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var s=this.i;for(let c in s.g){let u=s.g[c];for(let d=0;d<u.length;d++)Tr(u[d]);delete s.g[c],s.h--}}this.G=null},le.prototype.J=function(s,c,u,d){return this.i.add(String(s),c,!1,u,d)},le.prototype.K=function(s,c,u,d){return this.i.add(String(s),c,!0,u,d)};function br(s,c,u,d){if(c=s.i.g[String(c)],!c)return!0;c=c.concat();let v=!0;for(let b=0;b<c.length;++b){let P=c[b];if(P&&!P.da&&P.capture==u){let M=P.listener,ie=P.ha||P.src;P.fa&&ss(s.i,P),v=M.call(ie,d)!==!1&&v}}return v&&!d.defaultPrevented}function Ld(s,c){if(typeof s!="function")if(s&&typeof s.handleEvent=="function")s=f(s.handleEvent,s);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(s,c||0)}function vc(s){s.g=Ld(()=>{s.g=null,s.i&&(s.i=!1,vc(s))},s.l);let c=s.h;s.h=null,s.m.apply(null,c)}class Md extends E{constructor(c,u){super(),this.m=c,this.l=u,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:vc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(s){E.call(this),this.h=s,this.g={}}T(wn,E);var Ac=[];function bc(s){vr(s.g,function(c,u){this.g.hasOwnProperty(u)&&us(c)},s),s.g={}}wn.prototype.N=function(){wn.Z.N.call(this),bc(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=a.JSON.stringify,Fd=a.JSON.parse,Ud=class{stringify(s){return a.JSON.stringify(s,void 0)}parse(s){return a.JSON.parse(s,void 0)}};function Sc(){}function Rc(){}var En={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ps(){I.call(this,"d")}T(ps,I);function ms(){I.call(this,"c")}T(ms,I);var wt={},Pc=null;function Sr(){return Pc=Pc||new le}wt.Ia="serverreachability";function Cc(s){I.call(this,wt.Ia,s)}T(Cc,I);function Tn(s){let c=Sr();me(c,new Cc(c))}wt.STAT_EVENT="statevent";function kc(s,c){I.call(this,wt.STAT_EVENT,s),this.stat=c}T(kc,I);function ge(s){let c=Sr();me(c,new kc(c,s))}wt.Ja="timingevent";function Nc(s,c){I.call(this,wt.Ja,s),this.size=c}T(Nc,I);function vn(s,c){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){s()},c)}function An(){this.g=!0}An.prototype.ua=function(){this.g=!1};function Bd(s,c,u,d,v,b){s.info(function(){if(s.g)if(b){var P="",M=b.split("&");for(let $=0;$<M.length;$++){var ie=M[$].split("=");if(ie.length>1){let oe=ie[0];ie=ie[1];let Oe=oe.split("_");P=Oe.length>=2&&Oe[1]=="type"?P+(oe+"="+ie+"&"):P+(oe+"=redacted&")}}}else P=null;else P=b;return"XMLHTTP REQ ("+d+") [attempt "+v+"]: "+c+"\n"+u+"\n"+P})}function qd(s,c,u,d,v,b,P){s.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+v+"]: "+c+"\n"+u+"\n"+b+" "+P})}function Bt(s,c,u,d){s.info(function(){return"XMLHTTP TEXT ("+c+"): "+jd(s,u)+(d?" "+d:"")})}function zd(s,c){s.info(function(){return"TIMEOUT: "+c})}An.prototype.info=function(){};function jd(s,c){if(!s.g)return c;if(!c)return null;try{let b=JSON.parse(c);if(b){for(s=0;s<b.length;s++)if(Array.isArray(b[s])){var u=b[s];if(!(u.length<2)){var d=u[1];if(Array.isArray(d)&&!(d.length<1)){var v=d[0];if(v!="noop"&&v!="stop"&&v!="close")for(let P=1;P<d.length;P++)d[P]=""}}}}return fs(b)}catch(b){return c}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oc;function gs(){}T(gs,Sc),gs.prototype.g=function(){return new XMLHttpRequest},Oc=new gs;function bn(s){return encodeURIComponent(String(s))}function Gd(s){var c=1;s=s.split(":");let u=[];for(;c>0&&s.length;)u.push(s.shift()),c--;return s.length&&u.push(s.join(":")),u}function rt(s,c,u,d){this.j=s,this.i=c,this.l=u,this.S=d||1,this.V=new wn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xc}function xc(){this.i=null,this.g="",this.h=!1}var Vc={},_s={};function ys(s,c,u){s.M=1,s.A=Cr(De(c)),s.u=u,s.R=!0,Lc(s,null)}function Lc(s,c){s.F=Date.now(),Pr(s),s.B=De(s.A);var u=s.B,d=s.S;Array.isArray(d)||(d=[String(d)]),Qc(u.i,"t",d),s.C=0,u=s.j.L,s.h=new xc,s.g=fu(s.j,u?c:null,!s.u),s.P>0&&(s.O=new Md(f(s.Y,s,s.g),s.P)),c=s.V,u=s.g,d=s.ba;var v="readystatechange";Array.isArray(v)||(v&&(Ac[0]=v.toString()),v=Ac);for(let b=0;b<v.length;b++){let P=yc(u,v[b],d||c.handleEvent,!1,c.h||c);if(!P)break;c.g[P.key]=P}c=s.J?mc(s.J):{},s.u?(s.v||(s.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.B,s.v,s.u,c)):(s.v="GET",s.g.ea(s.B,s.v,null,c)),Tn(),Bd(s.i,s.v,s.B,s.l,s.S,s.u)}rt.prototype.ba=function(s){s=s.target;let c=this.O;c&&ot(s)==3?c.j():this.Y(s)},rt.prototype.Y=function(s){try{if(s==this.g)e:{let M=ot(this.g),ie=this.g.ya(),$=this.g.ca();if(!(M<3)&&(M!=3||this.g&&(this.h.h||this.g.la()||nu(this.g)))){this.K||M!=4||ie==7||(ie==8||$<=0?Tn(3):Tn(2)),Is(this);var c=this.g.ca();this.X=c;var u=$d(this);if(this.o=c==200,qd(this.i,this.v,this.B,this.l,this.S,M,c),this.o){if(this.U&&!this.L){t:{if(this.g){var d,v=this.g;if((d=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(d)){var b=d;break t}}b=null}if(s=b)Bt(this.i,this.l,s,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ws(this,s);else{this.o=!1,this.m=3,ge(12),Et(this),Sn(this);break e}}if(this.R){s=!0;let oe;for(;!this.K&&this.C<u.length;)if(oe=Hd(this,u),oe==_s){M==4&&(this.m=4,ge(14),s=!1),Bt(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Vc){this.m=4,ge(15),Bt(this.i,this.l,u,"[Invalid Chunk]"),s=!1;break}else Bt(this.i,this.l,oe,null),ws(this,oe);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),M!=4||u.length!=0||this.h.h||(this.m=1,ge(16),s=!1),this.o=this.o&&s,!s)Bt(this.i,this.l,u,"[Invalid Chunked Response]"),Et(this),Sn(this);else if(u.length>0&&!this.W){this.W=!0;var P=this.j;P.g==this&&P.aa&&!P.P&&(P.j.info("Great, no buffering proxy detected. Bytes received: "+u.length),Rs(P),P.P=!0,ge(11))}}else Bt(this.i,this.l,u,null),ws(this,u);M==4&&Et(this),this.o&&!this.K&&(M==4?uu(this.j,this):(this.o=!1,Pr(this)))}else af(this.g),c==400&&u.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),Et(this),Sn(this)}}}catch(M){}finally{}};function $d(s){if(!Mc(s))return s.g.la();let c=nu(s.g);if(c==="")return"";let u="",d=c.length,v=ot(s.g)==4;if(!s.h.i){if(typeof TextDecoder=="undefined")return Et(s),Sn(s),"";s.h.i=new a.TextDecoder}for(let b=0;b<d;b++)s.h.h=!0,u+=s.h.i.decode(c[b],{stream:!(v&&b==d-1)});return c.length=0,s.h.g+=u,s.C=0,s.h.g}function Mc(s){return s.g?s.v=="GET"&&s.M!=2&&s.j.Aa:!1}function Hd(s,c){var u=s.C,d=c.indexOf("\n",u);return d==-1?_s:(u=Number(c.substring(u,d)),isNaN(u)?Vc:(d+=1,d+u>c.length?_s:(c=c.slice(d,d+u),s.C=d+u,c)))}rt.prototype.cancel=function(){this.K=!0,Et(this)};function Pr(s){s.T=Date.now()+s.H,Fc(s,s.H)}function Fc(s,c){if(s.D!=null)throw Error("WatchDog timer not null");s.D=vn(f(s.aa,s),c)}function Is(s){s.D&&(a.clearTimeout(s.D),s.D=null)}rt.prototype.aa=function(){this.D=null;let s=Date.now();s-this.T>=0?(zd(this.i,this.B),this.M!=2&&(Tn(),ge(17)),Et(this),this.m=2,Sn(this)):Fc(this,this.T-s)};function Sn(s){s.j.I==0||s.K||uu(s.j,s)}function Et(s){Is(s);var c=s.O;c&&typeof c.dispose=="function"&&c.dispose(),s.O=null,bc(s.V),s.g&&(c=s.g,s.g=null,c.abort(),c.dispose())}function ws(s,c){try{var u=s.j;if(u.I!=0&&(u.g==s||Es(u.h,s))){if(!s.L&&Es(u.h,s)&&u.I==3){try{var d=u.Ba.g.parse(c)}catch($){d=null}if(Array.isArray(d)&&d.length==3){var v=d;if(v[0]==0){e:if(!u.v){if(u.g)if(u.g.F+3e3<s.F)Vr(u),Or(u);else break e;Ss(u),ge(18)}}else u.xa=v[1],0<u.xa-u.K&&v[2]<37500&&u.F&&u.A==0&&!u.C&&(u.C=vn(f(u.Va,u),6e3));qc(u.h)<=1&&u.ta&&(u.ta=void 0)}else vt(u,11)}else if((s.L||u.g==s)&&Vr(u),!m(c))for(v=u.Ba.g.parse(c),c=0;c<v.length;c++){let $=v[c],oe=$[0];if(!(oe<=u.K))if(u.K=oe,$=$[1],u.I==2)if($[0]=="c"){u.M=$[1],u.ba=$[2];let Oe=$[3];Oe!=null&&(u.ka=Oe,u.j.info("VER="+u.ka));let At=$[4];At!=null&&(u.za=At,u.j.info("SVER="+u.za));let at=$[5];at!=null&&typeof at=="number"&&at>0&&(d=1.5*at,u.O=d,u.j.info("backChannelRequestTimeoutMs_="+d)),d=u;let ct=s.g;if(ct){let Mr=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var b=d.h;b.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(Ts(b,b.h),b.h=null))}if(d.G){let Ps=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(d.wa=Ps,Q(d.J,d.G,Ps))}}u.I=3,u.l&&u.l.ra(),u.aa&&(u.T=Date.now()-s.F,u.j.info("Handshake RTT: "+u.T+"ms")),d=u;var P=s;if(d.na=du(d,d.L?d.ba:null,d.W),P.L){zc(d.h,P);var M=P,ie=d.O;ie&&(M.H=ie),M.D&&(Is(M),Pr(M)),d.g=P}else au(d);u.i.length>0&&xr(u)}else $[0]!="stop"&&$[0]!="close"||vt(u,7);else u.I==3&&($[0]=="stop"||$[0]=="close"?$[0]=="stop"?vt(u,7):bs(u):$[0]!="noop"&&u.l&&u.l.qa($),u.A=0)}}Tn(4)}catch($){}}var Wd=class{constructor(s,c){this.g=s,this.map=c}};function Uc(s){this.l=s||10,a.PerformanceNavigationTiming?(s=a.performance.getEntriesByType("navigation"),s=s.length>0&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bc(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function qc(s){return s.h?1:s.g?s.g.size:0}function Es(s,c){return s.h?s.h==c:s.g?s.g.has(c):!1}function Ts(s,c){s.g?s.g.add(c):s.h=c}function zc(s,c){s.h&&s.h==c?s.h=null:s.g&&s.g.has(c)&&s.g.delete(c)}Uc.prototype.cancel=function(){if(this.i=jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let s of this.g.values())s.cancel();this.g.clear()}};function jc(s){if(s.h!=null)return s.i.concat(s.h.G);if(s.g!=null&&s.g.size!==0){let c=s.i;for(let u of s.g.values())c=c.concat(u.G);return c}return C(s.i)}var Gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kd(s,c){if(s){s=s.split("&");for(let u=0;u<s.length;u++){let d=s[u].indexOf("="),v,b=null;d>=0?(v=s[u].substring(0,d),b=s[u].substring(d+1)):v=s[u],c(v,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function it(s){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;s instanceof it?(this.l=s.l,Rn(this,s.j),this.o=s.o,this.g=s.g,Pn(this,s.u),this.h=s.h,vs(this,Jc(s.i)),this.m=s.m):s&&(c=String(s).match(Gc))?(this.l=!1,Rn(this,c[1]||"",!0),this.o=Cn(c[2]||""),this.g=Cn(c[3]||"",!0),Pn(this,c[4]),this.h=Cn(c[5]||"",!0),vs(this,c[6]||"",!0),this.m=Cn(c[7]||"")):(this.l=!1,this.i=new Nn(null,this.l))}it.prototype.toString=function(){let s=[];var c=this.j;c&&s.push(kn(c,$c,!0),":");var u=this.g;return(u||c=="file")&&(s.push("//"),(c=this.o)&&s.push(kn(c,$c,!0),"@"),s.push(bn(u).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.u,u!=null&&s.push(":",String(u))),(u=this.h)&&(this.g&&u.charAt(0)!="/"&&s.push("/"),s.push(kn(u,u.charAt(0)=="/"?Yd:Jd,!0))),(u=this.i.toString())&&s.push("?",u),(u=this.m)&&s.push("#",kn(u,Zd)),s.join("")},it.prototype.resolve=function(s){let c=De(this),u=!!s.j;u?Rn(c,s.j):u=!!s.o,u?c.o=s.o:u=!!s.g,u?c.g=s.g:u=s.u!=null;var d=s.h;if(u)Pn(c,s.u);else if(u=!!s.h){if(d.charAt(0)!="/")if(this.g&&!this.h)d="/"+d;else{var v=c.h.lastIndexOf("/");v!=-1&&(d=c.h.slice(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(v.indexOf("./")!=-1||v.indexOf("/.")!=-1){d=v.lastIndexOf("/",0)==0,v=v.split("/");let b=[];for(let P=0;P<v.length;){let M=v[P++];M=="."?d&&P==v.length&&b.push(""):M==".."?((b.length>1||b.length==1&&b[0]!="")&&b.pop(),d&&P==v.length&&b.push("")):(b.push(M),d=!0)}d=b.join("/")}else d=v}return u?c.h=d:u=s.i.toString()!=="",u?vs(c,Jc(s.i)):u=!!s.m,u&&(c.m=s.m),c};function De(s){return new it(s)}function Rn(s,c,u){s.j=u?Cn(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Pn(s,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);s.u=c}else s.u=null}function vs(s,c,u){c instanceof Nn?(s.i=c,ef(s.i,s.l)):(u||(c=kn(c,Xd)),s.i=new Nn(c,s.l))}function Q(s,c,u){s.i.set(c,u)}function Cr(s){return Q(s,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),s}function Cn(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function kn(s,c,u){return typeof s=="string"?(s=encodeURI(s).replace(c,Qd),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Qd(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var $c=/[#\/\?@]/g,Jd=/[#\?:]/g,Yd=/[#\?]/g,Xd=/[#\?@]/g,Zd=/#/g;function Nn(s,c){this.h=this.g=null,this.i=s||null,this.j=!!c}function Tt(s){s.g||(s.g=new Map,s.h=0,s.i&&Kd(s.i,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}n=Nn.prototype,n.add=function(s,c){Tt(this),this.i=null,s=qt(this,s);let u=this.g.get(s);return u||this.g.set(s,u=[]),u.push(c),this.h+=1,this};function Hc(s,c){Tt(s),c=qt(s,c),s.g.has(c)&&(s.i=null,s.h-=s.g.get(c).length,s.g.delete(c))}function Wc(s,c){return Tt(s),c=qt(s,c),s.g.has(c)}n.forEach=function(s,c){Tt(this),this.g.forEach(function(u,d){u.forEach(function(v){s.call(c,v,d,this)},this)},this)};function Kc(s,c){Tt(s);let u=[];if(typeof c=="string")Wc(s,c)&&(u=u.concat(s.g.get(qt(s,c))));else for(s=Array.from(s.g.values()),c=0;c<s.length;c++)u=u.concat(s[c]);return u}n.set=function(s,c){return Tt(this),this.i=null,s=qt(this,s),Wc(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[c]),this.h+=1,this},n.get=function(s,c){return s?(s=Kc(this,s),s.length>0?String(s[0]):c):c};function Qc(s,c,u){Hc(s,c),u.length>0&&(s.i=null,s.g.set(qt(s,c),C(u)),s.h+=u.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let s=[],c=Array.from(this.g.keys());for(let d=0;d<c.length;d++){var u=c[d];let v=bn(u);u=Kc(this,u);for(let b=0;b<u.length;b++){let P=v;u[b]!==""&&(P+="="+bn(u[b])),s.push(P)}}return this.i=s.join("&")};function Jc(s){let c=new Nn;return c.i=s.i,s.g&&(c.g=new Map(s.g),c.h=s.h),c}function qt(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function ef(s,c){c&&!s.j&&(Tt(s),s.i=null,s.g.forEach(function(u,d){let v=d.toLowerCase();d!=v&&(Hc(this,d),Qc(this,v,u))},s)),s.j=c}function tf(s,c){let u=new An;if(a.Image){let d=new Image;d.onload=_(st,u,"TestLoadImage: loaded",!0,c,d),d.onerror=_(st,u,"TestLoadImage: error",!1,c,d),d.onabort=_(st,u,"TestLoadImage: abort",!1,c,d),d.ontimeout=_(st,u,"TestLoadImage: timeout",!1,c,d),a.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=s}else c(!1)}function nf(s,c){let u=new An,d=new AbortController,v=setTimeout(()=>{d.abort(),st(u,"TestPingServer: timeout",!1,c)},1e4);fetch(s,{signal:d.signal}).then(b=>{clearTimeout(v),b.ok?st(u,"TestPingServer: ok",!0,c):st(u,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(v),st(u,"TestPingServer: error",!1,c)})}function st(s,c,u,d,v){try{v&&(v.onload=null,v.onerror=null,v.onabort=null,v.ontimeout=null),d(u)}catch(b){}}function rf(){this.g=new Ud}function kr(s){this.i=s.Sb||null,this.h=s.ab||!1}T(kr,Sc),kr.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(s,c){le.call(this),this.H=s,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Nr,le),n=Nr.prototype,n.open=function(s,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=s,this.D=c,this.readyState=1,On(this)},n.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};s&&(c.body=s),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},n.Pa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream!="undefined"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yc(this)}else s.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yc(s){s.j.read().then(s.Ma.bind(s)).catch(s.ga.bind(s))}n.Ma=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var c=s.value?s.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!s.done}))&&(this.response=this.responseText+=c)}s.done?Dn(this):On(this),this.readyState==3&&Yc(this)}},n.Oa=function(s){this.g&&(this.response=this.responseText=s,Dn(this))},n.Na=function(s){this.g&&(this.response=s,Dn(this))},n.ga=function(){this.g&&Dn(this)};function Dn(s){s.readyState=4,s.l=null,s.j=null,s.B=null,On(s)}n.setRequestHeader=function(s,c){this.A.append(s,c)},n.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let s=[],c=this.h.entries();for(var u=c.next();!u.done;)u=u.value,s.push(u[0]+": "+u[1]),u=c.next();return s.join("\r\n")};function On(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function Xc(s){let c="";return vr(s,function(u,d){c+=d,c+=":",c+=u,c+="\r\n"}),c}function As(s,c,u){e:{for(d in u){var d=!1;break e}d=!0}d||(u=Xc(u),typeof s=="string"?u!=null&&bn(u):Q(s,c,u))}function Y(s){le.call(this),this.headers=new Map,this.L=s||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Y,le);var sf=/^https?$/i,of=["POST","PUT"];n=Y.prototype,n.Fa=function(s){this.H=s},n.ea=function(s,c,u,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);c=c?c.toUpperCase():"GET",this.D=s,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oc.g(),this.g.onreadystatechange=S(f(this.Ca,this));try{this.B=!0,this.g.open(c,String(s),!0),this.B=!1}catch(b){Zc(this,b);return}if(s=u||"",u=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var v in d)u.set(v,d[v]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(let b of d.keys())u.set(b,d.get(b));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(u.keys()).find(b=>b.toLowerCase()=="content-type"),v=a.FormData&&s instanceof a.FormData,!(Array.prototype.indexOf.call(of,c,void 0)>=0)||d||v||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[b,P]of u)this.g.setRequestHeader(b,P);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(s),this.v=!1}catch(b){Zc(this,b)}};function Zc(s,c){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=c,s.o=5,eu(s),Dr(s)}function eu(s){s.A||(s.A=!0,me(s,"complete"),me(s,"error"))}n.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=s||7,me(this,"complete"),me(this,"abort"),Dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),Y.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?tu(this):this.Xa())},n.Xa=function(){tu(this)};function tu(s){if(s.h&&typeof o!="undefined"){if(s.v&&ot(s)==4)setTimeout(s.Ca.bind(s),0);else if(me(s,"readystatechange"),ot(s)==4){s.h=!1;try{let b=s.ca();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var u;if(!(u=c)){var d;if(d=b===0){let P=String(s.D).match(Gc)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),d=!sf.test(P?P.toLowerCase():"")}u=d}if(u)me(s,"complete"),me(s,"success");else{s.o=6;try{var v=ot(s)>2?s.g.statusText:""}catch(P){v=""}s.l=v+" ["+s.ca()+"]",eu(s)}}finally{Dr(s)}}}}function Dr(s,c){if(s.g){s.m&&(clearTimeout(s.m),s.m=null);let u=s.g;s.g=null,c||me(s,"ready");try{u.onreadystatechange=null}catch(d){}}}n.isActive=function(){return!!this.g};function ot(s){return s.g?s.g.readyState:0}n.ca=function(){try{return ot(this)>2?this.g.status:-1}catch(s){return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},n.La=function(s){if(this.g){var c=this.g.responseText;return s&&c.indexOf(s)==0&&(c=c.substring(s.length)),Fd(c)}};function nu(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.F){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(c){return null}}function af(s){let c={};s=(s.g&&ot(s)>=2&&s.g.getAllResponseHeaders()||"").split("\r\n");for(let d=0;d<s.length;d++){if(m(s[d]))continue;var u=Gd(s[d]);let v=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();let b=c[v]||[];c[v]=b,b.push(u)}Od(c,function(d){return d.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xn(s,c,u){return u&&u.internalChannelParams&&u.internalChannelParams[s]||c}function ru(s){this.za=0,this.i=[],this.j=new An,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xn("failFast",!1,s),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xn("baseRetryDelayMs",5e3,s),this.Za=xn("retryDelaySeedMs",1e4,s),this.Ta=xn("forwardChannelMaxRetries",2,s),this.va=xn("forwardChannelRequestTimeoutMs",2e4,s),this.ma=s&&s.xmlHttpFactory||void 0,this.Ua=s&&s.Rb||void 0,this.Aa=s&&s.useFetchStreams||!1,this.O=void 0,this.L=s&&s.supportsCrossDomainXhr||!1,this.M="",this.h=new Uc(s&&s.concurrentRequestLimit),this.Ba=new rf,this.S=s&&s.fastHandshake||!1,this.R=s&&s.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=s&&s.Pb||!1,s&&s.ua&&this.j.ua(),s&&s.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&s&&s.detectBufferingProxy||!1,this.ia=void 0,s&&s.longPollingTimeout&&s.longPollingTimeout>0&&(this.ia=s.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ru.prototype,n.ka=8,n.I=1,n.connect=function(s,c,u,d){ge(0),this.W=s,this.H=c||{},u&&d!==void 0&&(this.H.OSID=u,this.H.OAID=d),this.F=this.X,this.J=du(this,null,this.W),xr(this)};function bs(s){if(iu(s),s.I==3){var c=s.V++,u=De(s.J);if(Q(u,"SID",s.M),Q(u,"RID",c),Q(u,"TYPE","terminate"),Vn(s,u),c=new rt(s,s.j,c),c.M=2,c.A=Cr(De(u)),u=!1,a.navigator&&a.navigator.sendBeacon)try{u=a.navigator.sendBeacon(c.A.toString(),"")}catch(d){}!u&&a.Image&&(new Image().src=c.A,u=!0),u||(c.g=fu(c.j,null),c.g.ea(c.A)),c.F=Date.now(),Pr(c)}hu(s)}function Or(s){s.g&&(Rs(s),s.g.cancel(),s.g=null)}function iu(s){Or(s),s.v&&(a.clearTimeout(s.v),s.v=null),Vr(s),s.h.cancel(),s.m&&(typeof s.m=="number"&&a.clearTimeout(s.m),s.m=null)}function xr(s){if(!Bc(s.h)&&!s.m){s.m=!0;var c=s.Ea;re||p(),J||(re(),J=!0),w.add(c,s),s.D=0}}function cf(s,c){return qc(s.h)>=s.h.j-(s.m?1:0)?!1:s.m?(s.i=c.G.concat(s.i),!0):s.I==1||s.I==2||s.D>=(s.Sa?0:s.Ta)?!1:(s.m=vn(f(s.Ea,s,c),lu(s,s.D)),s.D++,!0)}n.Ea=function(s){if(this.m)if(this.m=null,this.I==1){if(!s){this.V=Math.floor(Math.random()*1e5),s=this.V++;let v=new rt(this,this.j,s),b=this.o;if(this.U&&(b?(b=mc(b),_c(b,this.U)):b=this.U),this.u!==null||this.R||(v.J=b,b=null),this.S)e:{for(var c=0,u=0;u<this.i.length;u++){t:{var d=this.i[u];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break t}d=void 0}if(d===void 0)break;if(c+=d,c>4096){c=u;break e}if(c===4096||u===this.i.length-1){c=u+1;break e}}c=1e3}else c=1e3;c=ou(this,v,c),u=De(this.J),Q(u,"RID",s),Q(u,"CVER",22),this.G&&Q(u,"X-HTTP-Session-Id",this.G),Vn(this,u),b&&(this.R?c="headers="+bn(Xc(b))+"&"+c:this.u&&As(u,this.u,b)),Ts(this.h,v),this.Ra&&Q(u,"TYPE","init"),this.S?(Q(u,"$req",c),Q(u,"SID","null"),v.U=!0,ys(v,u,null)):ys(v,u,c),this.I=2}}else this.I==3&&(s?su(this,s):this.i.length==0||Bc(this.h)||su(this))};function su(s,c){var u;c?u=c.l:u=s.V++;let d=De(s.J);Q(d,"SID",s.M),Q(d,"RID",u),Q(d,"AID",s.K),Vn(s,d),s.u&&s.o&&As(d,s.u,s.o),u=new rt(s,s.j,u,s.D+1),s.u===null&&(u.J=s.o),c&&(s.i=c.G.concat(s.i)),c=ou(s,u,1e3),u.H=Math.round(s.va*.5)+Math.round(s.va*.5*Math.random()),Ts(s.h,u),ys(u,d,c)}function Vn(s,c){s.H&&vr(s.H,function(u,d){Q(c,d,u)}),s.l&&vr({},function(u,d){Q(c,d,u)})}function ou(s,c,u){u=Math.min(s.i.length,u);let d=s.l?f(s.l.Ka,s.l,s):null;e:{var v=s.i;let M=-1;for(;;){let ie=["count="+u];M==-1?u>0?(M=v[0].g,ie.push("ofs="+M)):M=0:ie.push("ofs="+M);let $=!0;for(let oe=0;oe<u;oe++){var b=v[oe].g;let Oe=v[oe].map;if(b-=M,b<0)M=Math.max(0,v[oe].g-100),$=!1;else try{b="req"+b+"_"||"";try{var P=Oe instanceof Map?Oe:Object.entries(Oe);for(let[At,at]of P){let ct=at;l(at)&&(ct=fs(at)),ie.push(b+At+"="+encodeURIComponent(ct))}}catch(At){throw ie.push(b+"type="+encodeURIComponent("_badmap")),At}}catch(At){d&&d(Oe)}}if($){P=ie.join("&");break e}}P=void 0}return s=s.i.splice(0,u),c.G=s,P}function au(s){if(!s.g&&!s.v){s.Y=1;var c=s.Da;re||p(),J||(re(),J=!0),w.add(c,s),s.A=0}}function Ss(s){return s.g||s.v||s.A>=3?!1:(s.Y++,s.v=vn(f(s.Da,s),lu(s,s.A)),s.A++,!0)}n.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var s=4*this.T;this.j.info("BP detection timer enabled: "+s),this.B=vn(f(this.Wa,this),s)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),Or(this),cu(this))};function Rs(s){s.B!=null&&(a.clearTimeout(s.B),s.B=null)}function cu(s){s.g=new rt(s,s.j,"rpc",s.Y),s.u===null&&(s.g.J=s.o),s.g.P=0;var c=De(s.na);Q(c,"RID","rpc"),Q(c,"SID",s.M),Q(c,"AID",s.K),Q(c,"CI",s.F?"0":"1"),!s.F&&s.ia&&Q(c,"TO",s.ia),Q(c,"TYPE","xmlhttp"),Vn(s,c),s.u&&s.o&&As(c,s.u,s.o),s.O&&(s.g.H=s.O);var u=s.g;s=s.ba,u.M=1,u.A=Cr(De(c)),u.u=null,u.R=!0,Lc(u,s)}n.Va=function(){this.C!=null&&(this.C=null,Or(this),Ss(this),ge(19))};function Vr(s){s.C!=null&&(a.clearTimeout(s.C),s.C=null)}function uu(s,c){var u=null;if(s.g==c){Vr(s),Rs(s),s.g=null;var d=2}else if(Es(s.h,c))u=c.G,zc(s.h,c),d=1;else return;if(s.I!=0){if(c.o)if(d==1){u=c.u?c.u.length:0,c=Date.now()-c.F;var v=s.D;d=Sr(),me(d,new Nc(d,u)),xr(s)}else au(s);else if(v=c.m,v==3||v==0&&c.X>0||!(d==1&&cf(s,c)||d==2&&Ss(s)))switch(u&&u.length>0&&(c=s.h,c.i=c.i.concat(u)),v){case 1:vt(s,5);break;case 4:vt(s,10);break;case 3:vt(s,6);break;default:vt(s,2)}}}function lu(s,c){let u=s.Qa+Math.floor(Math.random()*s.Za);return s.isActive()||(u*=2),u*c}function vt(s,c){if(s.j.info("Error code "+c),c==2){var u=f(s.bb,s),d=s.Ua;let v=!d;d=new it(d||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rn(d,"https"),Cr(d),v?tf(d.toString(),u):nf(d.toString(),u)}else ge(2);s.I=0,s.l&&s.l.pa(c),hu(s),iu(s)}n.bb=function(s){s?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function hu(s){if(s.I=0,s.ja=[],s.l){let c=jc(s.h);(c.length!=0||s.i.length!=0)&&(D(s.ja,c),D(s.ja,s.i),s.h.i.length=0,C(s.i),s.i.length=0),s.l.oa()}}function du(s,c,u){var d=u instanceof it?De(u):new it(u);if(d.g!="")c&&(d.g=c+"."+d.g),Pn(d,d.u);else{var v=a.location;d=v.protocol,c=c?c+"."+v.hostname:v.hostname,v=+v.port;let b=new it(null);d&&Rn(b,d),c&&(b.g=c),v&&Pn(b,v),u&&(b.h=u),d=b}return u=s.G,c=s.wa,u&&c&&Q(d,u,c),Q(d,"VER",s.ka),Vn(s,d),d}function fu(s,c,u){if(c&&!s.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=s.Aa&&!s.ma?new Y(new kr({ab:u})):new Y(s.ma),c.Fa(s.L),c}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}n=pu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Lr(){}Lr.prototype.g=function(s,c){return new be(s,c)};function be(s,c){le.call(this),this.g=new ru(c),this.l=s,this.h=c&&c.messageUrlParams||null,s=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(s?s["X-WebChannel-Content-Type"]=c.messageContentType:s={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(s?s["X-WebChannel-Client-Profile"]=c.sa:s={"X-WebChannel-Client-Profile":c.sa}),this.g.U=s,(s=c&&c.Qb)&&!m(s)&&(this.g.u=s),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!m(c)&&(this.g.G=c,s=this.h,s!==null&&c in s&&(s=this.h,c in s&&delete s[c])),this.j=new zt(this)}T(be,le),be.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},be.prototype.close=function(){bs(this.g)},be.prototype.o=function(s){var c=this.g;if(typeof s=="string"){var u={};u.__data__=s,s=u}else this.v&&(u={},u.__data__=fs(s),s=u);c.i.push(new Wd(c.Ya++,s)),c.I==3&&xr(c)},be.prototype.N=function(){this.g.l=null,delete this.j,bs(this.g),delete this.g,be.Z.N.call(this)};function mu(s){ps.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var c=s.__sm__;if(c){e:{for(let u in c){s=u;break e}s=void 0}(this.i=s)&&(s=this.i,c=c!==null&&s in c?c[s]:void 0),this.data=c}else this.data=s}T(mu,ps);function gu(){ms.call(this),this.status=1}T(gu,ms);function zt(s){this.g=s}T(zt,pu),zt.prototype.ra=function(){me(this.g,"a")},zt.prototype.qa=function(s){me(this.g,new mu(s))},zt.prototype.pa=function(s){me(this.g,new gu)},zt.prototype.oa=function(){me(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,be.prototype.send=be.prototype.o,be.prototype.open=be.prototype.m,be.prototype.close=be.prototype.close,Oo=Ze.createWebChannelTransport=function(){return new Lr},Do=Ze.getStatEventTarget=function(){return Sr()},No=Ze.Event=wt,Ni=Ze.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,tr=Ze.ErrorCode=Rr,Dc.COMPLETE="complete",ko=Ze.EventType=Dc,Rc.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",le.prototype.listen=le.prototype.J,Yt=Ze.WebChannel=Rc,bg=Ze.FetchXmlHttpFactory=kr,Y.prototype.listenOnce=Y.prototype.K,Y.prototype.getLastError=Y.prototype.Ha,Y.prototype.getLastErrorCode=Y.prototype.ya,Y.prototype.getStatus=Y.prototype.ca,Y.prototype.getResponseJson=Y.prototype.La,Y.prototype.getResponseText=Y.prototype.la,Y.prototype.send=Y.prototype.ea,Y.prototype.setWithCredentials=Y.prototype.Fa,Co=Ze.XhrIo=Y}).apply(typeof ki!="undefined"?ki:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var eh="@firebase/firestore",th="4.9.2";var ue=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ue.UNAUTHENTICATED=new ue(null),ue.GOOGLE_CREDENTIALS=new ue("google-credentials-uid"),ue.FIRST_PARTY=new ue("first-party-uid"),ue.MOCK_USER=new ue("mock-user");var _n="12.3.0";var Ft=new lt("@firebase/firestore");function nr(){return Ft.logLevel}function L(n,...e){if(Ft.logLevel<=F.DEBUG){let t=e.map(Xa);Ft.debug("Firestore (".concat(_n,"): ").concat(n),...t)}}function ns(n,...e){if(Ft.logLevel<=F.ERROR){let t=e.map(Xa);Ft.error("Firestore (".concat(_n,"): ").concat(n),...t)}}function Ya(n,...e){if(Ft.logLevel<=F.WARN){let t=e.map(Xa);Ft.warn("Firestore (".concat(_n,"): ").concat(n),...t)}}function Xa(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch(e){return n}}function z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Ph(n,r,t)}function Ph(n,e,t){let r="FIRESTORE (".concat(_n,") INTERNAL ASSERTION FAILED: ").concat(e," (ID: ").concat(n.toString(16),")");if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch(i){r+=" CONTEXT: "+t}throw ns(r),new Error(r)}function Te(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Ph(e,i,r)}function Ae(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends _e{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}};var Vt=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}};var Li=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}},Fo=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ue.UNAUTHENTICATED)))}shutdown(){}},Uo=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Bo=class{constructor(e){this.t=e,this.currentUser=ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0,42304);let r=this.i,i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve(),o=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vt,e.enqueueRetryable((()=>i(this.currentUser)))};let a=()=>{let h=o;e.enqueueRetryable((()=>y(this,null,function*(){yield h.promise,yield i(this.currentUser)})))},l=h=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((h=>l(h))),setTimeout((()=>{if(!this.auth){let h=this.t.getImmediate({optional:!0});h?l(h):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vt)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new Li(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new ue(e)}},qo=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ue.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},zo=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new qo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ue.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Mi=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jo=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,he(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(o.error.message));let a=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider","Received ".concat(a?"new":"existing"," token.")),a?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mi(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Te(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Mi(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Sg(n){let e=typeof self!="undefined"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Go=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Sg(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function H(n,e){return n<e?-1:n>e?1:0}function $o(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return xo(i)===xo(o)?H(i,o):xo(i)?1:-1}return H(n.length,e.length)}var Rg=55296,Pg=57343;function xo(n){let e=n.charCodeAt(0);return e>=Rg&&e<=Pg}function rn(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}var nh="__name__",Fi=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return H(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):$o(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}},pe=class n extends Fi{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new x(k.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter((i=>i.length>0)))}return new n(t)}static emptyPath(){return new n([])}},Cg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ne=class n extends Fi{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Cg.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nh}static keyField(){return new n([nh])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new x(k.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;for(;i<e.length;){let l=e[i];if(l==="\\"){if(i+1===e.length)throw new x(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new x(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new x(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var U=class n{constructor(e){this.path=e}static fromPath(e){return new n(pe.fromString(e))}static fromName(e){return new n(pe.fromString(e).popFirst(5))}static empty(){return new n(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new pe(e.slice()))}};function kg(n,e,t,r){if(e===!0&&r===!0)throw new x(k.INVALID_ARGUMENT,"".concat(n," and ").concat(t," cannot be used together."))}function Ng(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Dg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n="".concat(n.substring(0,20),"...")),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?"a custom ".concat(e," object"):"an object"}}return typeof n=="function"?"a function":z(12329,{type:typeof n})}function Og(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Dg(n);throw new x(k.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(t))}}return n}function ne(n,e){let t={typeString:n};return e&&(t.value=e),t}function Er(n,e){if(!Ng(n))throw new x(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t="JSON missing required field: '".concat(r,"'");break}let a=n[r];if(i&&typeof a!==i){t="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(o!==void 0&&a!==o.value){t="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(t)throw new x(k.INVALID_ARGUMENT,t);return!0}var rh=-62135596800,ih=1e6,ve=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ih);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rh)throw new x(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ih}_compareTo(e){return this.seconds===e.seconds?H(this.nanoseconds,e.nanoseconds):H(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Er(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-rh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:ne("string",ve._jsonSchemaVersion),seconds:ne("number"),nanoseconds:ne("number")};var Z=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ve(0,0))}static max(){return new n(new ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fr=-1,Ho=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Ho.UNKNOWN_ID=-1;function xg(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new ve(t+1,0):new ve(t,r));return new Ut(i,U.empty(),e)}function Vg(n){return new Ut(n.readTime,n.key,fr)}var Ut=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Z.min(),U.empty(),fr)}static max(){return new n(Z.max(),U.empty(),fr)}};function Lg(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=U.comparator(n.documentKey,e.documentKey),t!==0?t:H(n.largestBatchId,e.largestBatchId))}var Wo=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};var R=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):n.reject(t)}static resolve(e){return new n(((t,r)=>{t(e)}))}static reject(e){return new n(((t,r)=>{r(e)}))}static waitFor(e){return new n(((t,r)=>{let i=0,o=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++o,a&&o===i&&t()}),(h=>r(h)))})),a=!0,o===i&&t()}))}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next((i=>i?n.resolve(i):r()));return t}static forEach(e,t){let r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new n(((r,i)=>{let o=e.length,a=new Array(o),l=0;for(let h=0;h<o;h++){let f=h;t(e[f]).next((_=>{a[f]=_,++l,l===o&&r(a)}),(_=>i(_)))}}))}static doWhile(e,t){return new n(((r,i)=>{let o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}};function Mg(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ch(n){return n.name==="IndexedDbTransactionError"}var Ui=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Ui.ce=-1;var Fg=-1;function Za(n){return n==null}function Bi(n){return n===0&&1/n==-1/0}var Ug="remoteDocuments",kh="owner";var Nh="mutationQueues";var Dh="mutations";var Oh="documentMutations",Bg="remoteDocumentsV14";var xh="remoteDocumentGlobal";var Vh="targets";var Lh="targetDocuments";var Mh="targetGlobal",Fh="collectionParents";var Uh="clientMetadata";var Bh="bundles";var qh="namedQueries";var qg="indexConfiguration";var zg="indexState";var jg="indexEntries";var zh="documentOverlays";var Gg="globals";var $g=[Nh,Dh,Oh,Ug,Vh,kh,Mh,Lh,Uh,xh,Fh,Bh,qh],yw=[...$g,zh],Hg=[Nh,Dh,Oh,Bg,Vh,kh,Mh,Lh,Uh,xh,Fh,Bh,qh,zh],Wg=Hg,Kg=[...Wg,qg,zg,jg];var Iw=[...Kg,Gg];function sh(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ec(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qg(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ce=class n{constructor(e,t){this.comparator=e,this.root=t||je.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){let e=[];return this.inorderTraversal(((t,r)=>(e.push("".concat(t,":").concat(r)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zt(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zt(this.root,e,this.comparator,!0)}},Zt=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},je=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r!=null?r:n.RED,this.left=i!=null?i:n.EMPTY,this.right=o!=null?o:n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e!=null?e:this.key,t!=null?t:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new je(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ye=class n{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qi(this.data.getIterator())}getIteratorFrom(e){return new qi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},qi=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ot=class n{constructor(e){this.fields=e,e.sort(Ne.comparator)}static empty(){return new n([])}unionWith(e){let t=new ye(Ne.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rn(this.fields,e.fields,((t,r)=>t.isEqual(r)))}};var Ko=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException!="undefined"&&o instanceof DOMException?new Ko("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return H(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var Jg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _t(n){if(Te(!!n,39018),typeof n=="string"){let e=0,t=Jg.exec(n);if(Te(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:te(n.seconds),nanos:te(n.nanos)}}function te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function sn(n){return typeof n=="string"?et.fromBase64String(n):et.fromUint8Array(n)}var jh="server_timestamp",Gh="__type__",$h="__previous_value__",Hh="__local_write_time__";function tc(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Gh])==null?void 0:r.stringValue)===jh}function Wh(n){let e=n.mapValue.fields[$h];return tc(e)?Wh(e):e}function zi(n){let e=_t(n.mapValue.fields[Hh].timestampValue);return new ve(e.seconds,e.nanos)}var ji="(default)",Qo=class n{constructor(e,t){this.projectId=e,this.database=t||ji}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ji}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Kh="__type__",Qh="__max__",Di={mapValue:{fields:{__type__:{stringValue:Qh}}}},Jh="__vector__",Gi="value";function on(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tc(n)?4:Xh(n)?9007199254740991:Yh(n)?10:11:z(28295,{value:n})}function Ge(n,e){if(n===e)return!0;let t=on(n);if(t!==on(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zi(n).isEqual(zi(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let a=_t(i.timestampValue),l=_t(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return sn(i.bytesValue).isEqual(sn(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return te(i.geoPointValue.latitude)===te(o.geoPointValue.latitude)&&te(i.geoPointValue.longitude)===te(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return te(i.integerValue)===te(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let a=te(i.doubleValue),l=te(o.doubleValue);return a===l?Bi(a)===Bi(l):isNaN(a)&&isNaN(l)}return!1})(n,e);case 9:return rn(n.arrayValue.values||[],e.arrayValue.values||[],Ge);case 10:case 11:return(function(i,o){let a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(sh(a)!==sh(l))return!1;for(let h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Ge(a[h],l[h])))return!1;return!0})(n,e);default:return z(52216,{left:n})}}function pr(n,e){return(n.values||[]).find((t=>Ge(t,e)))!==void 0}function an(n,e){if(n===e)return 0;let t=on(n),r=on(e);if(t!==r)return H(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return H(n.booleanValue,e.booleanValue);case 2:return(function(o,a){let l=te(o.integerValue||o.doubleValue),h=te(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1})(n,e);case 3:return oh(n.timestampValue,e.timestampValue);case 4:return oh(zi(n),zi(e));case 5:return $o(n.stringValue,e.stringValue);case 6:return(function(o,a){let l=sn(o),h=sn(a);return l.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,a){let l=o.split("/"),h=a.split("/");for(let f=0;f<l.length&&f<h.length;f++){let _=H(l[f],h[f]);if(_!==0)return _}return H(l.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,a){let l=H(te(o.latitude),te(a.latitude));return l!==0?l:H(te(o.longitude),te(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ah(n.arrayValue,e.arrayValue);case 10:return(function(o,a){var S,C,D,V;let l=o.fields||{},h=a.fields||{},f=(S=l[Gi])==null?void 0:S.arrayValue,_=(C=h[Gi])==null?void 0:C.arrayValue,T=H(((D=f==null?void 0:f.values)==null?void 0:D.length)||0,((V=_==null?void 0:_.values)==null?void 0:V.length)||0);return T!==0?T:ah(f,_)})(n.mapValue,e.mapValue);case 11:return(function(o,a){if(o===Di.mapValue&&a===Di.mapValue)return 0;if(o===Di.mapValue)return 1;if(a===Di.mapValue)return-1;let l=o.fields||{},h=Object.keys(l),f=a.fields||{},_=Object.keys(f);h.sort(),_.sort();for(let T=0;T<h.length&&T<_.length;++T){let S=$o(h[T],_[T]);if(S!==0)return S;let C=an(l[h[T]],f[_[T]]);if(C!==0)return C}return H(h.length,_.length)})(n.mapValue,e.mapValue);default:throw z(23264,{he:t})}}function oh(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return H(n,e);let t=_t(n),r=_t(e),i=H(t.seconds,r.seconds);return i!==0?i:H(t.nanos,r.nanos)}function ah(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=an(t[i],r[i]);if(o)return o}return H(t.length,r.length)}function cn(n){return Jo(n)}function Jo(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=_t(t);return"time(".concat(r.seconds,",").concat(r.nanos,")")})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return sn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return U.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Jo(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let a of r)o?o=!1:i+=",",i+="".concat(a,":").concat(Jo(t.fields[a]));return i+"}"})(n.mapValue):z(61005,{value:n})}function Yo(n){return!!n&&"integerValue"in n}function nc(n){return!!n&&"arrayValue"in n}function Vo(n){return!!n&&"mapValue"in n}function Yh(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Kh])==null?void 0:r.stringValue)===Jh}function ir(n){if(n.geoPointValue)return{geoPointValue:q({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:q({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ec(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ir(r))),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ir(n.arrayValue.values[t]);return e}return q({},n)}function Xh(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Qh}var Ew={mapValue:{fields:{[Kh]:{stringValue:Jh},[Gi]:{arrayValue:{}}}}};var gt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ir(t)}setAll(e){let t=Ne.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!t.isImmediateParentOf(l)){let h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=l.popLast()}a?r[l.lastSegment()]=ir(a):i.push(l.lastSegment())}));let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Vo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ge(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ec(t,((i,o)=>e[i]=o));for(let i of r)delete e[i]}clone(){return new n(ir(this.value))}};var un=class n{constructor(e,t,r,i,o,a,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new n(e,0,Z.min(),Z.min(),Z.min(),gt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Z.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Z.min(),Z.min(),gt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Z.min(),Z.min(),gt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}};var ln=class{constructor(e,t){this.position=e,this.inclusive=t}};function ch(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],a=n.position[i];if(o.field.isKeyField()?r=U.comparator(U.fromName(a.referenceValue),t.key):r=an(a,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function uh(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ge(n.position[t],e.position[t]))return!1;return!0}var hn=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Yg(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var $i=class{},ce=class n extends $i{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Zo(e,t,r):t==="array-contains"?new na(e,r):t==="in"?new ra(e,r):t==="not-in"?new ia(e,r):t==="array-contains-any"?new sa(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ea(e,r):new ta(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(an(t,this.value)):t!==null&&on(this.value)===on(t)&&this.matchesComparison(an(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yt=class n extends $i{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return Zh(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Zh(n){return n.op==="and"}function ed(n){return Xg(n)&&Zh(n)}function Xg(n){for(let e of n.filters)if(e instanceof yt)return!1;return!0}function Xo(n){if(n instanceof ce)return n.field.canonicalString()+n.op.toString()+cn(n.value);if(ed(n))return n.filters.map((e=>Xo(e))).join(",");{let e=n.filters.map((t=>Xo(t))).join(",");return"".concat(n.op,"(").concat(e,")")}}function td(n,e){return n instanceof ce?(function(r,i){return i instanceof ce&&r.op===i.op&&r.field.isEqual(i.field)&&Ge(r.value,i.value)})(n,e):n instanceof yt?(function(r,i){return i instanceof yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,l)=>o&&td(a,i.filters[l])),!0):!1})(n,e):void z(19439)}function nd(n){return n instanceof ce?(function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(cn(t.value))})(n):n instanceof yt?(function(t){return t.op.toString()+" {"+t.getFilters().map(nd).join(" ,")+"}"})(n):"Filter"}var Zo=class extends ce{constructor(e,t,r){super(e,t,r),this.key=U.fromName(r.referenceValue)}matches(e){let t=U.comparator(e.key,this.key);return this.matchesComparison(t)}},ea=class extends ce{constructor(e,t){super(e,"in",t),this.keys=rd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},ta=class extends ce{constructor(e,t){super(e,"not-in",t),this.keys=rd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function rd(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>U.fromName(r.referenceValue)))}var na=class extends ce{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return nc(t)&&pr(t.arrayValue,this.value)}},ra=class extends ce{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&pr(this.value.arrayValue,t)}},ia=class extends ce{constructor(e,t){super(e,"not-in",t)}matches(e){if(pr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pr(this.value.arrayValue,t)}},sa=class extends ce{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!nc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>pr(this.value.arrayValue,r)))}};var oa=class{constructor(e,t=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.Te=null}};function lh(n,e=null,t=[],r=[],i=null,o=null,a=null){return new oa(n,e,t,r,i,o,a)}function rc(n){let e=Ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Xo(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Za(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>cn(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>cn(r))).join(",")),e.Te=t}return e.Te}function ic(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yg(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!td(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uh(n.startAt,e.startAt)&&uh(n.endAt,e.endAt)}var dn=class{constructor(e,t=null,r=[],i=[],o=null,a="F",l=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Zg(n,e,t,r,i,o,a,l){return new dn(n,e,t,r,i,o,a,l)}function e_(n){return new dn(n)}function hh(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function t_(n){return n.collectionGroup!==null}function sr(n){let e=Ae(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ye(Ne.comparator);return a.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new hn(o,r))})),t.has(Ne.keyField().canonicalString())||e.Ie.push(new hn(Ne.keyField(),r))}return e.Ie}function Lt(n){let e=Ae(n);return e.Ee||(e.Ee=n_(e,sr(n))),e.Ee}function n_(n,e){if(n.limitType==="F")return lh(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{let o=i.dir==="desc"?"asc":"desc";return new hn(i.field,o)}));let t=n.endAt?new ln(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ln(n.startAt.position,n.startAt.inclusive):null;return lh(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function aa(n,e,t){return new dn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function id(n,e){return ic(Lt(n),Lt(e))&&n.limitType===e.limitType}function sd(n){return"".concat(rc(Lt(n)),"|lt:").concat(n.limitType)}function rr(n){return"Query(target=".concat((function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=", filters: [".concat(t.filters.map((i=>nd(i))).join(", "),"]")),Za(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=", orderBy: [".concat(t.orderBy.map((i=>(function(a){return"".concat(a.field.canonicalString()," (").concat(a.dir,")")})(i))).join(", "),"]")),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>cn(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>cn(i))).join(",")),"Target(".concat(r,")")})(Lt(n)),"; limitType=").concat(n.limitType,")")}function sc(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):U.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of sr(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,h){let f=ch(a,l,h);return a.inclusive?f<=0:f<0})(r.startAt,sr(r),i)||r.endAt&&!(function(a,l,h){let f=ch(a,l,h);return a.inclusive?f>=0:f>0})(r.endAt,sr(r),i))})(n,e)}function r_(n){return(e,t)=>{let r=!1;for(let i of sr(n)){let o=i_(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function i_(n,e,t){let r=n.field.isKeyField()?U.comparator(e.key,t.key):(function(o,a,l){let h=a.data.field(o),f=l.data.field(o);return h!==null&&f!==null?an(h,f):z(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:n.dir})}}var It=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ec(this.inner,((t,r)=>{for(let[i,o]of r)e(i,o)}))}isEmpty(){return Qg(this.inner)}size(){return this.innerSize}};var s_=new Ce(U.comparator);function ca(){return s_}var od=new Ce(U.comparator);function Oi(...n){let e=od;for(let t of n)e=e.insert(t.key,t);return e}function o_(n){let e=od;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function xt(){return or()}function ad(){return or()}function or(){return new It((n=>n.toString()),((n,e)=>n.isEqual(e)))}var Tw=new Ce(U.comparator),a_=new ye(U.comparator);function Re(...n){let e=a_;for(let t of n)e=e.add(t);return e}var c_=new ye(H);function u_(){return c_}function l_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bi(e)?"-0":e}}function h_(n){return{integerValue:""+n}}var fn=class{constructor(){this._=void 0}};function d_(n,e,t){return n instanceof mr?(function(i,o){let a={fields:{[Gh]:{stringValue:jh},[Hh]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&tc(o)&&(o=Wh(o)),o&&(a.fields[$h]=o),{mapValue:a}})(t,e):n instanceof pn?cd(n,e):n instanceof mn?ud(n,e):(function(i,o){let a=p_(i,o),l=dh(a)+dh(i.Ae);return Yo(a)&&Yo(i.Ae)?h_(l):l_(i.serializer,l)})(n,e)}function f_(n,e,t){return n instanceof pn?cd(n,e):n instanceof mn?ud(n,e):t}function p_(n,e){return n instanceof gr?(function(r){return Yo(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var mr=class extends fn{},pn=class extends fn{constructor(e){super(),this.elements=e}};function cd(n,e){let t=ld(e);for(let r of n.elements)t.some((i=>Ge(i,r)))||t.push(r);return{arrayValue:{values:t}}}var mn=class extends fn{constructor(e){super(),this.elements=e}};function ud(n,e){let t=ld(e);for(let r of n.elements)t=t.filter((i=>!Ge(i,r)));return{arrayValue:{values:t}}}var gr=class extends fn{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function dh(n){return te(n.integerValue||n.doubleValue)}function ld(n){return nc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function m_(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof pn&&i instanceof pn||r instanceof mn&&i instanceof mn?rn(r.elements,i.elements,Ge):r instanceof gr&&i instanceof gr?Ge(r.Ae,i.Ae):r instanceof mr&&i instanceof mr})(n.transform,e.transform)}var ar=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vi(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var _r=class{};function hd(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ua(n.key,ar.none()):new yr(n.key,n.data,ar.none());{let t=n.data,r=gt.empty(),i=new ye(Ne.comparator);for(let o of e.fields)if(!i.has(o)){let a=t.field(o);a===null&&o.length>1&&(o=o.popLast(),a=t.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new gn(n.key,r,new Ot(i.toArray()),ar.none())}}function g_(n,e,t){n instanceof yr?(function(i,o,a){let l=i.value.clone(),h=ph(i.fieldTransforms,o,a.transformResults);l.setAll(h),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(n,e,t):n instanceof gn?(function(i,o,a){if(!Vi(i.precondition,o))return void o.convertToUnknownDocument(a.version);let l=ph(i.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(dd(i)),h.setAll(l),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()})(n,e,t):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function cr(n,e,t,r){return n instanceof yr?(function(o,a,l,h){if(!Vi(o.precondition,a))return l;let f=o.value.clone(),_=mh(o.fieldTransforms,h,a);return f.setAll(_),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof gn?(function(o,a,l,h){if(!Vi(o.precondition,a))return l;let f=mh(o.fieldTransforms,h,a),_=a.data;return _.setAll(dd(o)),_.setAll(f),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((T=>T.field)))})(n,e,t,r):(function(o,a,l){return Vi(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(n,e,t)}function fh(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rn(r,i,((o,a)=>m_(o,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var yr=class extends _r{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},gn=class extends _r{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function dd(n){let e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}})),e}function ph(n,e,t){let r=new Map;Te(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let o=n[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,f_(a,l,t[i]))}return r}function mh(n,e,t){let r=new Map;for(let i of n){let o=i.transform,a=t.data.field(i.field);r.set(i.field,d_(o,a,e))}return r}var ua=class extends _r{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var la=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&g_(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=cr(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=cr(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ad();return this.mutations.forEach((i=>{let o=e.get(i.key),a=o.overlayedDocument,l=this.applyToLocalView(a,o.mutatedFields);l=t.has(i.key)?null:l;let h=hd(a,l);h!==null&&r.set(i.key,h),a.isValidDocument()||a.convertToNoDocument(Z.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Re())}isEqual(e){return this.batchId===e.batchId&&rn(this.mutations,e.mutations,((t,r)=>fh(t,r)))&&rn(this.baseMutations,e.baseMutations,((t,r)=>fh(t,r)))}};var ha=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}};var X,B;function __(n){if(n===void 0)return ns("GRPC error has no .code"),k.UNKNOWN;switch(n){case X.OK:return k.OK;case X.CANCELLED:return k.CANCELLED;case X.UNKNOWN:return k.UNKNOWN;case X.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case X.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case X.INTERNAL:return k.INTERNAL;case X.UNAVAILABLE:return k.UNAVAILABLE;case X.UNAUTHENTICATED:return k.UNAUTHENTICATED;case X.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case X.NOT_FOUND:return k.NOT_FOUND;case X.ALREADY_EXISTS:return k.ALREADY_EXISTS;case X.PERMISSION_DENIED:return k.PERMISSION_DENIED;case X.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case X.ABORTED:return k.ABORTED;case X.OUT_OF_RANGE:return k.OUT_OF_RANGE;case X.UNIMPLEMENTED:return k.UNIMPLEMENTED;case X.DATA_LOSS:return k.DATA_LOSS;default:return z(39323,{code:n})}}(B=X||(X={}))[B.OK=0]="OK",B[B.CANCELLED=1]="CANCELLED",B[B.UNKNOWN=2]="UNKNOWN",B[B.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",B[B.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",B[B.NOT_FOUND=5]="NOT_FOUND",B[B.ALREADY_EXISTS=6]="ALREADY_EXISTS",B[B.PERMISSION_DENIED=7]="PERMISSION_DENIED",B[B.UNAUTHENTICATED=16]="UNAUTHENTICATED",B[B.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",B[B.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",B[B.ABORTED=10]="ABORTED",B[B.OUT_OF_RANGE=11]="OUT_OF_RANGE",B[B.UNIMPLEMENTED=12]="UNIMPLEMENTED",B[B.INTERNAL=13]="INTERNAL",B[B.UNAVAILABLE=14]="UNAVAILABLE",B[B.DATA_LOSS=15]="DATA_LOSS";var vw=new Ci([4294967295,4294967295],0);var da=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function gh(n){return Te(!!n,49232),Z.fromTimestamp((function(t){let r=_t(t);return new ve(r.seconds,r.nanos)})(n))}function _h(n,e){let t=(function(i){return new pe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function y_(n){let e=pe.fromString(n);return Te(T_(e),10190,{key:e.toString()}),e}function I_(n){let e=y_(n);return e.length===4?pe.emptyPath():w_(e)}function w_(n){return Te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function E_(n){let e=I_(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Te(r===1,65062);let _=t.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let o=[];t.where&&(o=(function(T){let S=fd(T);return S instanceof yt&&ed(S)?S.getFilters():[S]})(t.where));let a=[];t.orderBy&&(a=(function(T){return T.map((S=>(function(D){return new hn(Xt(D.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(S)))})(t.orderBy));let l=null;t.limit&&(l=(function(T){let S;return S=typeof T=="object"?T.value:T,Za(S)?null:S})(t.limit));let h=null;t.startAt&&(h=(function(T){let S=!!T.before,C=T.values||[];return new ln(C,S)})(t.startAt));let f=null;return t.endAt&&(f=(function(T){let S=!T.before,C=T.values||[];return new ln(C,S)})(t.endAt)),Zg(e,i,a,o,l,"F",h,f)}function fd(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Xt(t.unaryFilter.field);return ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xt(t.unaryFilter.field);return ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xt(t.unaryFilter.field);return ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Xt(t.unaryFilter.field);return ce.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ce.create(Xt(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return yt.create(t.compositeFilter.filters.map((r=>fd(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}})(t.compositeFilter.op))})(n):z(30097,{filter:n})}function Xt(n){return Ne.fromServerFormat(n.fieldPath)}function T_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var fa=class{constructor(e){this.yt=e}};function v_(n){let e=E_({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?aa(e,e.limit,"L"):e}var Hi=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(te(e.integerValue));else if("doubleValue"in e){let r=te(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Bi(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=_t(r)),t.xt("".concat(r.seconds||"")),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(sn(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?Xh(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Yh(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):z(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){var a,l;let r=e.fields||{};this.Ft(t,53);let i=Gi,o=((l=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:l.length)||0;this.Ft(t,15),t.Mt(te(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),U.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Hi.Kt=new Hi;var pa=class{constructor(){this.Cn=new ma}addToCollectionParentIndex(e,t){return this.Cn.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(Ut.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(Ut.min())}updateCollectionGroup(e,t,r){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}},ma=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ye(pe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ye(pe.comparator)).toArray()}};var Aw=new Uint8Array(0);var pd=41943040,ze=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};ze.DEFAULT_COLLECTION_PERCENTILE=10,ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ze.DEFAULT=new ze(pd,ze.DEFAULT_COLLECTION_PERCENTILE,ze.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ze.DISABLED=new ze(-1,0,0);var Ir=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var A_=1048576;var ga=class{constructor(){this.changes=new It((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?R.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var _a=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ya=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&cr(r.mutation,i,Ot.empty(),ve.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Re()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Re()){let i=xt();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let a=Oi();return o.forEach(((l,h)=>{a=a.insert(l,h.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){let r=xt();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Re())))}populateOverlays(e,t,r){let i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,l)=>{t.set(a,l)}))}))}computeViews(e,t,r,i){let o=ca(),a=or(),l=(function(){return or()})();return t.forEach(((h,f)=>{let _=r.get(f.key);i.has(f.key)&&(_===void 0||_.mutation instanceof gn)?o=o.insert(f.key,f):_!==void 0?(a.set(f.key,_.mutation.getFieldMask()),cr(_.mutation,f,_.mutation.getFieldMask(),ve.now())):a.set(f.key,Ot.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,_)=>a.set(f,_))),t.forEach(((f,_)=>{var T;return l.set(f,new _a(_,(T=a.get(f))!=null?T:null))})),l)))}recalculateAndSaveOverlays(e,t){let r=or(),i=new Ce(((a,l)=>a-l)),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(let l of a)l.keys().forEach((h=>{let f=t.get(h);if(f===null)return;let _=r.get(h)||Ot.empty();_=l.applyToLocalView(f,_),r.set(h,_);let T=(i.get(l.batchId)||Re()).add(h);i=i.insert(l.batchId,T)}))})).next((()=>{let a=[],l=i.getReverseIterator();for(;l.hasNext();){let h=l.getNext(),f=h.key,_=h.value,T=ad();_.forEach((S=>{if(!o.has(S)){let C=hd(t.get(S),r.get(S));C!==null&&T.set(S,C),o=o.add(S)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,T))}return R.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(a){return U.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):t_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{let a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):R.resolve(xt()),l=fr,h=o;return a.next((f=>R.forEach(f,((_,T)=>(l<T.largestBatchId&&(l=T.largestBatchId),o.get(_)?R.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{h=h.insert(_,S)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,Re()))).next((_=>({batchId:l,changes:o_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next((r=>{let i=Oi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,a=Oi();return this.indexManager.getCollectionParents(e,o).next((l=>R.forEach(l,(h=>{let f=(function(T,S){return new dn(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((_=>{_.forEach(((T,S)=>{a=a.insert(T,S)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((a=>{o.forEach(((h,f)=>{let _=f.getKey();a.get(_)===null&&(a=a.insert(_,un.newInvalidDocument(_)))}));let l=Oi();return a.forEach(((h,f)=>{let _=o.get(h);_!==void 0&&cr(_.mutation,f,Ot.empty(),ve.now()),sc(t,f)&&(l=l.insert(h,f))})),l}))}};var Ia=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return R.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:gh(i.createTime)}})(t)),R.resolve()}getNamedQuery(e,t){return R.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:v_(i.bundledQuery),readTime:gh(i.readTime)}})(t)),R.resolve()}};var wa=class{constructor(){this.overlays=new Ce(U.comparator),this.qr=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){let r=xt();return R.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.St(e,t,o)})),R.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),R.resolve()}getOverlaysForCollection(e,t,r){let i=xt(),o=t.length+1,a=new U(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let h=l.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return R.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ce(((f,_)=>f-_)),a=this.overlays.getIterator();for(;a.hasNext();){let f=a.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let _=o.get(f.largestBatchId);_===null&&(_=xt(),o=o.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}let l=xt(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,_)=>l.set(f,_))),!(l.size()>=i)););return R.resolve(l)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ha(t,r));let o=this.qr.get(t);o===void 0&&(o=Re(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}};var Ea=class{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,R.resolve()}};var wr=class{constructor(){this.Qr=new ye(ee.$r),this.Ur=new ye(ee.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new ee(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new ee(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){let t=new U(new pe([])),r=new ee(t,e),i=new ee(t,e+1),o=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new U(new pe([])),r=new ee(t,e),i=new ee(t,e+1),o=Re();return this.Ur.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){let t=new ee(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ee=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return U.comparator(e.key,t.key)||H(e.Yr,t.Yr)}static Kr(e,t){return H(e.Yr,t.Yr)||U.comparator(e.key,t.key)}};var Ta=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ye(ee.$r)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new la(o,t,r,i);this.mutationQueue.push(a);for(let l of i)this.Zr=this.Zr.add(new ee(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return R.resolve(a)}lookupMutationBatch(e,t){return R.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?Fg:this.tr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ee(t,0),i=new ee(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(a=>{let l=this.Xr(a.Yr);o.push(l)})),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ye(H);return t.forEach((i=>{let o=new ee(i,0),a=new ee(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(l=>{r=r.add(l.Yr)}))})),R.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;U.isDocumentKey(o)||(o=o.child(""));let a=new ee(new U(o),0),l=new ye(H);return this.Zr.forEachWhile((h=>{let f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(h.Yr)),!0)}),a),R.resolve(this.ti(l))}ti(e){let t=[];return e.forEach((r=>{let i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Te(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return R.forEach(t.mutations,(i=>{let o=new ee(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){let r=new ee(t,0),i=this.Zr.firstAfterOrEqual(r);return R.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var va=class{constructor(e){this.ri=e,this.docs=(function(){return new Ce(U.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return R.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=ca();return t.forEach((i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))})),R.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ca(),a=t.path,l=new U(a.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){let{key:f,value:{document:_}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Lg(Vg(_),r)<=0||(i.has(_.key)||sc(t,_))&&(o=o.insert(_.key,_.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,t,r,i){z(9500)}ii(e,t){return R.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Aa(this)}getSize(e){return R.resolve(this.size)}},Aa=class extends ga{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),R.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var ba=class{constructor(e){this.persistence=e,this.si=new It((t=>rc(t)),ic),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.oi=0,this._i=new wr,this.targetCount=0,this.ai=Ir.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),R.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Ir(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.Pr(t),R.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),R.waitFor(o).next((()=>i))}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return R.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),R.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),R.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),R.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return R.resolve(r)}containsKey(e,t){return R.resolve(this._i.containsKey(t))}};var Sa=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ui(0),this.li=!1,this.li=!0,this.hi=new Ea,this.referenceDelegate=e(this),this.Pi=new ba(this),this.indexManager=new pa,this.remoteDocumentCache=(function(i){return new va(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new fa(t),this.Ii=new Ia(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Ta(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new Ra(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return R.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}},Ra=class extends Wo{constructor(e){super(),this.currentSequenceNumber=e}},Pa=class n{constructor(e){this.persistence=e,this.Ri=new wr,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw z(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),R.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),R.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.fi,(r=>{let i=U.fromPath(r);return this.gi(e,i).next((o=>{o||t.removeEntry(i,Z.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return R.or([()=>R.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}};var Ca=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Re(),i=Re();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var ka=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Na=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Nu()?8:Mg(ae())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ys(e,t).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,t,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;let a=new ka;return this.Ss(e,t,a).next((l=>{if(o.result=l,this.Vs)return this.bs(e,t,a,l.size)}))})).next((()=>o.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(nr()<=F.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",rr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),R.resolve()):(nr()<=F.DEBUG&&L("QueryEngine","Query:",rr(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(nr()<=F.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",rr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lt(t))):R.resolve())}ys(e,t){if(hh(t))return R.resolve(null);let r=Lt(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=aa(t,null,"F"),r=Lt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{let a=Re(...o);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((h=>{let f=this.Ds(t,l);return this.Cs(t,f,a,h.readTime)?this.ys(e,aa(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,r,i){return hh(t)||i.isEqual(Z.min())?R.resolve(null):this.ps.getDocuments(e,r).next((o=>{let a=this.Ds(t,o);return this.Cs(t,a,r,i)?R.resolve(null):(nr()<=F.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rr(t)),this.vs(e,a,t,xg(i,fr)).next((l=>l)))}))}Ds(e,t){let r=new ye(r_(e));return t.forEach(((i,o)=>{sc(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return nr()<=F.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",rr(t)),this.ps.getDocumentsMatchingQuery(e,t,Ut.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((a=>{o=o.insert(a.key,a)})),o)))}};var b_="LocalStore";var Da=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ce(H),this.xs=new It((o=>rc(o)),ic),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ya(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}};function S_(n,e,t,r){return new Da(n,e,t,r)}function R_(n,e){return y(this,null,function*(){let t=Ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{let a=[],l=[],h=Re();for(let f of i){a.push(f.batchId);for(let _ of f.mutations)h=h.add(_.key)}for(let f of o){l.push(f.batchId);for(let _ of f.mutations)h=h.add(_.key)}return t.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:a,addedBatchIds:l})))}))}))})}var Wi=class{constructor(){this.activeTargetIds=u_()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Oa=class{constructor(){this.Mo=new Wi,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wi,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xa=class{Oo(e){}shutdown(){}};var yh="ConnectivityMonitor",Ki=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){L(yh,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){L(yh,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var xi=null;function Va(){return xi===null?xi=(function(){return 268435456+Math.round(2147483648*Math.random())})():xi++,"0x"+xi.toString(16)}var Lo="RestConnection",P_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},La=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(r,"/databases/").concat(i),this.Wo=this.databaseId.database===ji?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}Go(e,t,r,i,o){let a=Va(),l=this.zo(e,t.toUriEncodedString());L(Lo,"Sending RPC '".concat(e,"' ").concat(a,":"),l,r);let h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);let{host:f}=new URL(l),_=xe(f);return this.Jo(e,l,h,r,_).then((T=>(L(Lo,"Received RPC '".concat(e,"' ").concat(a,": "),T),T)),(T=>{throw Ya(Lo,"RPC '".concat(e,"' ").concat(a," failed with error: "),T,"url: ",l,"request:",r),T}))}Ho(e,t,r,i,o,a){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_n})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){let r=P_[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(r)}terminate(){}};var Ma=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var fe="WebChannelConnection",Fa=class extends La{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let a=Va();return new Promise(((l,h)=>{let f=new Co;f.setWithCredentials(!0),f.listenOnce(ko.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case tr.NO_ERROR:let T=f.getResponseJson();L(fe,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(T)),l(T);break;case tr.TIMEOUT:L(fe,"RPC '".concat(e,"' ").concat(a," timed out")),h(new x(k.DEADLINE_EXCEEDED,"Request time out"));break;case tr.HTTP_ERROR:let S=f.getStatus();if(L(fe,"RPC '".concat(e,"' ").concat(a," failed with status:"),S,"response text:",f.getResponseText()),S>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);let D=C==null?void 0:C.error;if(D&&D.status&&D.message){let V=(function(K){let W=K.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(W)>=0?W:k.UNKNOWN})(D.status);h(new x(V,D.message))}else h(new x(k.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new x(k.UNAVAILABLE,"Connection failed."));break;default:z(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{L(fe,"RPC '".concat(e,"' ").concat(a," completed."))}}));let _=JSON.stringify(i);L(fe,"RPC '".concat(e,"' ").concat(a," sending request:"),i),f.send(t,"POST",_,r,15)}))}T_(e,t,r){let i=Va(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Oo(),l=Do(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;let _=o.join("");L(fe,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(_),h);let T=a.createWebChannel(_,h);this.I_(T);let S=!1,C=!1,D=new Ma({Yo:O=>{C?L(fe,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),O):(S||(L(fe,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),T.open(),S=!0),L(fe,"RPC '".concat(e,"' stream ").concat(i," sending:"),O),T.send(O))},Zo:()=>T.close()}),V=(O,K,W)=>{O.listen(K,(G=>{try{W(G)}catch(j){setTimeout((()=>{throw j}),0)}}))};return V(T,Yt.EventType.OPEN,(()=>{C||(L(fe,"RPC '".concat(e,"' stream ").concat(i," transport opened.")),D.o_())})),V(T,Yt.EventType.CLOSE,(()=>{C||(C=!0,L(fe,"RPC '".concat(e,"' stream ").concat(i," transport closed")),D.a_(),this.E_(T))})),V(T,Yt.EventType.ERROR,(O=>{C||(C=!0,Ya(fe,"RPC '".concat(e,"' stream ").concat(i," transport errored. Name:"),O.name,"Message:",O.message),D.a_(new x(k.UNAVAILABLE,"The operation could not be completed")))})),V(T,Yt.EventType.MESSAGE,(O=>{var K;if(!C){let W=O.data[0];Te(!!W,16349);let G=W,j=(G==null?void 0:G.error)||((K=G[0])==null?void 0:K.error);if(j){L(fe,"RPC '".concat(e,"' stream ").concat(i," received error:"),j);let re=j.status,J=(function(g){let E=X[g];if(E!==void 0)return __(E)})(re),w=j.message;J===void 0&&(J=k.INTERNAL,w="Unknown error status: "+re+" with message "+j.message),C=!0,D.a_(new x(J,w)),T.close()}else L(fe,"RPC '".concat(e,"' stream ").concat(i," received:"),W),D.u_(W)}})),V(l,No.STAT_EVENT,(O=>{O.stat===Ni.PROXY?L(fe,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):O.stat===Ni.NOPROXY&&L(fe,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function Mo(){return typeof document!="undefined"?document:null}function md(n){return new da(n,!0)}var Ua=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(r," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var Ba=class{},qa=class extends Ba{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new x(k.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,_h(t,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(k.UNKNOWN,o.toString())}))}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,_h(t,r),i,a,l,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new x(k.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},za=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ns(t),this.aa=!1):L("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var gd="RemoteStore",ja=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{r.enqueueAndForget((()=>y(this,null,function*(){yd(this)&&(L(gd,"Restarting streams for network reachability change."),yield(function(h){return y(this,null,function*(){let f=Ae(h);f.Ea.add(4),yield oc(f),f.Ra.set("Unknown"),f.Ea.delete(4),yield _d(f)})})(this))})))})),this.Ra=new za(r,i)}};function _d(n){return y(this,null,function*(){if(yd(n))for(let e of n.da)yield e(!0)})}function oc(n){return y(this,null,function*(){for(let e of n.da)yield e(!1)})}function yd(n){return Ae(n).Ea.size===0}function C_(n,e){return y(this,null,function*(){let t=Ae(n);e?(t.Ea.delete(2),yield _d(t)):e||(t.Ea.add(2),yield oc(t),t.Ra.set("Unknown"))})}var Ga=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let a=Date.now()+r,l=new n(e,t,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var $a=class{constructor(){this.queries=Ih(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Ae(t),o=i.queries;i.queries=Ih(),o.forEach(((a,l)=>{for(let h of l.Sa)h.onError(r)}))})(this,new x(k.ABORTED,"Firestore shutting down"))}};function Ih(){return new It((n=>sd(n)),id)}function k_(n){n.Ca.forEach((e=>{e.next()}))}var wh,Eh;(Eh=wh||(wh={})).Ma="default",Eh.Cache="cache";var N_="SyncEngine";var Ha=class{constructor(e,t,r,i,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new It((l=>sd(l)),id),this.Iu=new Map,this.Eu=new Set,this.du=new Ce(U.comparator),this.Au=new Map,this.Ru=new wr,this.Vu={},this.mu=new Map,this.fu=Ir.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};function Th(n,e,t){let r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach(((o,a)=>{let l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){let h=Ae(a);h.onlineState=l;let f=!1;h.queries.forEach(((_,T)=>{for(let S of T.Sa)S.va(l)&&(f=!0)})),f&&k_(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function D_(n,e,t){return y(this,null,function*(){let r=Ae(n),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,h)=>{a.push(r.pu(h,e,t).then((f=>{var _;if((f||t)&&r.isPrimaryClient){let T=f?!f.fromCache:(_=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:_.current;r.sharedClientState.updateQueryState(h.targetId,T?"current":"not-current")}if(f){i.push(f);let T=Ca.As(h.targetId,f);o.push(T)}})))})),yield Promise.all(a),r.Pu.H_(i),yield(function(h,f){return y(this,null,function*(){let _=Ae(h);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>R.forEach(f,(S=>R.forEach(S.Es,(C=>_.persistence.referenceDelegate.addReference(T,S.targetId,C))).next((()=>R.forEach(S.ds,(C=>_.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))))))}catch(T){if(!Ch(T))throw T;L(b_,"Failed to update sequence numbers: "+T)}for(let T of f){let S=T.targetId;if(!T.fromCache){let C=_.Ms.get(S),D=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(D);_.Ms=_.Ms.insert(S,V)}}})})(r.localStore,o))})}function O_(n,e){return y(this,null,function*(){let t=Ae(n);if(!t.currentUser.isEqual(e)){L(N_,"User change. New user:",e.toKey());let r=yield R_(t.localStore,e);t.currentUser=e,(function(o,a){o.mu.forEach((l=>{l.forEach((h=>{h.reject(new x(k.CANCELLED,a))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield D_(t,r.Ls)}})}var Qi=class{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,t){return null}Mu(e,t){return null}vu(e){return S_(this.persistence,new Na,e.initialUser,this.serializer)}Cu(e){return new Sa(Pa.mi,this.serializer)}Du(e){return new Oa}terminate(){return y(this,null,function*(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};Qi.provider={build:()=>new Qi};var Ji=class{initialize(e,t){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Th(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O_.bind(null,this.syncEngine),yield C_(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return(function(){return new $a})()}createDatastore(e){let t=md(e.databaseInfo.databaseId),r=(function(o){return new Fa(o)})(e.databaseInfo);return(function(o,a,l,h){return new qa(o,a,l,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,a,l){return new ja(r,i,o,a,l)})(this.localStore,this.datastore,e.asyncQueue,(t=>Th(this.syncEngine,t,0)),(function(){return Ki.v()?new Ki:new xa})())}createSyncEngine(e,t){return(function(i,o,a,l,h,f,_){let T=new Ha(i,o,a,l,h,f);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return y(this,null,function*(){var e,t;yield(function(i){return y(this,null,function*(){let o=Ae(i);L(gd,"RemoteStore shutting down."),o.Ea.add(5),yield oc(o),o.Aa.shutdown(),o.Ra.set("Unknown")})})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()})}};Ji.provider={build:()=>new Ji};function x_(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var vh=new Map;var Id="firestore.googleapis.com",Ah=!0,Yi=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new x(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Id,this.ssl=Ah}else this.host=e.host,this.ssl=(t=e.ssl)!=null?t:Ah;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pd;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A_)throw new x(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x_((r=e.experimentalLongPollingOptions)!=null?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new x(k.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(o.timeoutSeconds," (must not be NaN)"));if(o.timeoutSeconds<5)throw new x(k.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(o.timeoutSeconds," (minimum allowed value is 5)"));if(o.timeoutSeconds>30)throw new x(k.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(o.timeoutSeconds," (maximum allowed value is 30)"))}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xi=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yi({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new x(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new x(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yi(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Fo;switch(r.type){case"firstParty":return new zo(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return y(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=vh.get(t);r&&(L("ComponentProvider","Removing Datastore"),vh.delete(t),r.terminate())})(this),Promise.resolve()}};function V_(n,e,t,r={}){var f;n=Og(n,Xi);let i=xe(e),o=n._getSettings(),a=Pe(q({},o),{emulatorOptions:n._getEmulatorOptions()}),l="".concat(e,":").concat(t);i&&(jt("https://".concat(l)),Gt("Firestore",!0)),o.host!==Id&&o.host!==l&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let h=Pe(q({},o),{host:l,ssl:i,emulatorOptions:r});if(!Ve(h,a)&&(n._setSettings(h),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=ue.MOCK_USER;else{_=Gr(r.mockUserToken,(f=n._app)==null?void 0:f.options.projectId);let S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new x(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ue(S)}n._authCredentials=new Uo(new Li(_,T))}}var Wa=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Mt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Er(t,n._jsonSchema))return new n(e,r||null,new U(pe.fromString(t.referencePath)))}};Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:ne("string",Mt._jsonSchemaVersion),referencePath:ne("string")};var Ka=class n extends Wa{constructor(e,t,r){super(e,t,e_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new U(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var bh="AsyncQueue",Zi=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ua(this,"async_queue_retry"),this._c=()=>{let r=Mo();r&&L(bh,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=Mo();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Mo();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Vt;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}lc(){return y(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ch(e))throw e;L(bh,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}})}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",Sh(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=Ga.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&z(47125,{Pc:Sh(this.nc)})}verifyOperationInProgress(){}Tc(){return y(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function Sh(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),e}var Qa=class extends Xi{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Zi,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return y(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Zi(e),this._firestoreClient=void 0,yield e}})}};function wd(n,e){let t=typeof n=="object"?n:dt(),r=typeof n=="string"?n:e||ji,i=St(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=jr("firestore");o&&V_(i,...o)}return i}var ur=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(et.fromBase64String(e))}catch(t){throw new x(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Er(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:ne("string",ur._jsonSchemaVersion),bytes:ne("string")};var es=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new x(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ne(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var lr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return H(this._lat,e._lat)||H(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Er(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};lr._jsonSchemaVersion="firestore/geoPoint/1.0",lr._jsonSchema={type:ne("string",lr._jsonSchemaVersion),latitude:ne("number"),longitude:ne("number")};var hr=class n{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Er(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new n(e.vectorValues);throw new x(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:ne("string",hr._jsonSchemaVersion),vectorValues:ne("object")};var L_=new RegExp("[~\\*/\\[\\]]");function M_(n,e,t){if(e.search(L_)>=0)throw Rh("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),n,!1,void 0,t);try{return new es(...e.split("."))._internalPath}catch(r){throw Rh("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),n,!1,void 0,t)}}function Rh(n,e,t,r,i){let o=r&&!r.isEmpty(),a=i!==void 0,l="Function ".concat(e,"() called with invalid data");t&&(l+=" (via `toFirestore()`)"),l+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=" in field ".concat(r)),a&&(h+=" in document ".concat(i)),h+=")"),new x(k.INVALID_ARGUMENT,l+n+h)}var ts=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ja(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Ed("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Ja=class extends ts{data(){return super.data()}};function Ed(n,e){return typeof e=="string"?M_(n,e):e instanceof es?e._internalPath:e._delegate._internalPath}var en=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},tn=class n extends ts{constructor(e,t,r,i,o,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new nn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Ed("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new x(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};tn._jsonSchemaVersion="firestore/documentSnapshot/1.0",tn._jsonSchema={type:ne("string",tn._jsonSchemaVersion),bundleSource:ne("string","DocumentSnapshot"),bundleName:ne("string"),bundle:ne("string")};var nn=class extends tn{data(e={}){return super.data(e)}},dr=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new en(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new nn(this._firestore,this._userDataWriter,r.key,r,new en(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{let h=new nn(i._firestore,i._userDataWriter,l.doc.key,l.doc,new en(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{let h=new nn(i._firestore,i._userDataWriter,l.doc.key,l.doc,new en(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,_=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),_=a.indexOf(l.doc.key)),{type:F_(l.type),doc:h,oldIndex:f,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new x(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Go.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function F_(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:n})}}dr._jsonSchemaVersion="firestore/querySnapshot/1.0",dr._jsonSchema={type:ne("string",dr._jsonSchemaVersion),bundleSource:ne("string","QuerySnapshot"),bundleName:ne("string"),bundle:ne("string")};(function(e,t=!0){(function(i){_n=i})(Fe),Me(new we("firestore",((r,{instanceIdentifier:i,options:o})=>{let a=r.getProvider("app").getImmediate(),l=new Qa(new Bo(r.getProvider("auth-internal")),new jo(a,r.getProvider("app-check-internal")),(function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new x(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(f.options.projectId,_)})(a,i),a);return o=q({useFetchStreams:t},o),l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),Ee(eh,th,e),Ee(eh,th,"esm2020")})();var Rd="firebasestorage.googleapis.com",U_="storageBucket",B_=120*1e3,q_=600*1e3;var $e=class n extends _e{constructor(e,t,r=0){super(ac(e),"Firebase Storage: ".concat(t," (").concat(ac(e),")")),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ac(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}},He;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(He||(He={}));function ac(n){return"storage/"+n}function z_(){let n="An unknown error occurred, please check the error payload for server response.";return new $e(He.UNKNOWN,n)}function j_(){return new $e(He.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G_(){return new $e(He.CANCELED,"User canceled the upload/download.")}function $_(n){return new $e(He.INVALID_URL,"Invalid URL '"+n+"'.")}function H_(n){return new $e(He.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Td(n){return new $e(He.INVALID_ARGUMENT,n)}function Pd(){return new $e(He.APP_DELETED,"The Firebase app was deleted.")}function W_(n){return new $e(He.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var tt=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch(i){return new n(e,"")}if(r.path==="")return r;throw H_(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}let a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),h={bucket:1,path:3};function f(j){j.path_=decodeURIComponent(j.path)}let _="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",C=new RegExp("^https?://".concat(T,"/").concat(_,"/b/").concat(i,"/o").concat(S),"i"),D={bucket:1,path:3},V=t===Rd?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",K=new RegExp("^https?://".concat(V,"/").concat(i,"/").concat(O),"i"),G=[{regex:l,indices:h,postModify:o},{regex:C,indices:D,postModify:f},{regex:K,indices:{bucket:1,path:2},postModify:f}];for(let j=0;j<G.length;j++){let re=G[j],J=re.regex.exec(e);if(J){let w=J[re.indices.bucket],p=J[re.indices.path];p||(p=""),r=new n(w,p),re.postModify(r);break}}if(r==null)throw $_(e);return r}},cc=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function K_(n,e,t){let r=1,i=null,o=null,a=!1,l=0;function h(){return l===2}let f=!1;function _(...O){f||(f=!0,e.apply(null,O))}function T(O){i=setTimeout(()=>{i=null,n(C,h())},O)}function S(){o&&clearTimeout(o)}function C(O,...K){if(f){S();return}if(O){S(),_.call(null,O,...K);return}if(h()||a){S(),_.call(null,O,...K);return}r<64&&(r*=2);let G;l===1?(l=2,G=0):G=(r+Math.random())*1e3,T(G)}let D=!1;function V(O){D||(D=!0,S(),!f&&(i!==null?(O||(l=2),clearTimeout(i),T(0)):O||(l=1)))}return T(0),o=setTimeout(()=>{a=!0,V(!0)},t),V}function Q_(n){n(!1)}function J_(n){return n!==void 0}function vd(n,e,t,r){if(r<e)throw Td("Invalid value for '".concat(n,"'. Expected ").concat(e," or greater."));if(r>t)throw Td("Invalid value for '".concat(n,"'. Expected ").concat(t," or less."))}function Y_(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var rs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(rs||(rs={}));function X_(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var uc=class{constructor(e,t,r,i,o,a,l,h,f,_,T,S=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=_,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,V)=>{this.resolve_=D,this.reject_=V,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new yn(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let a=l=>{let h=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;let l=o.getErrorCode()===rs.NO_ERROR,h=o.getStatus();if(!l||X_(h,this.additionalRetryCodes_)&&this.retry){let _=o.getErrorCode()===rs.ABORT;r(!1,new yn(!1,null,_));return}let f=this.successCodes_.indexOf(h)!==-1;r(!0,new yn(f,o))})},t=(r,i)=>{let o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{let h=this.callback_(l,l.getResponse());J_(h)?o(h):o()}catch(h){a(h)}else if(l!==null){let h=z_();h.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,h)):a(h)}else if(i.canceled){let h=this.appDelete_?Pd():G_();a(h)}else{let h=j_();a(h)}};this.canceled_?t(!1,new yn(!1,null,!0)):this.backoffId_=K_(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Q_(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},yn=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function Z_(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function ey(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function ty(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ny(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ry(n,e,t,r,i,o,a=!0,l=!1){let h=Y_(n.urlParams),f=n.url+h,_=Object.assign({},n.headers);return ty(_,e),Z_(_,t),ey(_,o),ny(_,r),new uc(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a,l)}function iy(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function sy(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Dw=256*1024;var lc=class n{constructor(e,t){this._service=e,t instanceof tt?this._location=t:this._location=tt.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new tt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sy(this._location.path)}get storage(){return this._service}get parent(){let e=iy(this._location.path);if(e===null)return null;let t=new tt(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw W_(e)}};function Ad(n,e){let t=e==null?void 0:e[U_];return t==null?null:tt.makeFromBucketSpec(t,n)}function oy(n,e,t,r={}){n.host="".concat(e,":").concat(t);let i=xe(e);i&&(jt("https://".concat(n.host,"/b")),Gt("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Gr(o,n.app.options.projectId))}var hc=class{constructor(e,t,r,i,o,a=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=Rd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B_,this._maxUploadRetryTime=q_,this._requests=new Set,i!=null?this._bucket=tt.makeFromBucketSpec(i,this._host):this._bucket=Ad(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tt.makeFromBucketSpec(this._url,e):this._bucket=Ad(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vd("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vd("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return y(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return y(this,null,function*(){if(he(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lc(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new cc(Pd());{let a=ry(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){return y(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},bd="@firebase/storage",Sd="0.14.0";var Cd="storage";function kd(n=dt(),e){n=Se(n);let r=St(n,Cd).getImmediate({identifier:e}),i=jr("storage");return i&&ay(r,...i),r}function ay(n,e,t,r={}){oy(n,e,t,r)}function cy(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new hc(t,r,i,e,Fe)}function uy(){Me(new we(Cd,cy,"PUBLIC").setMultipleInstances(!0)),Ee(bd,Sd,""),Ee(bd,Sd,"esm2020")}uy();var ly={apiKey:"AIzaSyBJDPg-KcDOrQN8VAGM0B7GEg2MgstGZKA",authDomain:"madrasati-9fd0b.firebaseapp.com",projectId:"madrasati-9fd0b",storageBucket:"madrasati-9fd0b.firebasestorage.app",messagingSenderId:"351776192308",appId:"1:351776192308:web:74985a6c9f1f8d4a339761",measurementId:"G-5V737P3M2L"},dc="btecmaad@gmail.com";var fc=Wu().length?dt():Js(ly),is=Po(fc),tE=wd(fc),nE=kd(fc);var hy="btecmaad@gmail.com",dy="123456789102008",pc={},fy={get(n){try{return localStorage.getItem(n)}catch(e){return pc[n]||null}},set(n,e){try{localStorage.setItem(n,e)}catch(t){pc[n]=e}},remove(n){try{localStorage.removeItem(n)}catch(e){delete pc[n]}}};function In(n,e=!1){let t=document.getElementById("adminLoginStatus");t&&(t.textContent=n||"",t.className=e?"status error":"status",n&&t.classList.add("show"))}function py(n,e){return y(this,null,function*(){var t;In("...\u062C\u0627\u0631\u064A \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644");try{let r=yield Si(is,n,e);if((((t=r==null?void 0:r.user)==null?void 0:t.email)||"").toLowerCase()===dc.toLowerCase()){window.location.href="admin-panel.html";return}yield Ri(is),In("\u0647\u0630\u0627 \u0627\u0644\u062D\u0633\u0627\u0628 \u0644\u064A\u0633 \u0623\u062F\u0645\u0646",!0)}catch(r){if((r==null?void 0:r.code)==="auth/user-not-found"&&n.toLowerCase()===dc.toLowerCase())try{yield bi(is,n,e),In("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u0627\u0644\u0623\u062F\u0645\u0646\u060C \u0623\u0639\u062F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644");return}catch(i){console.error(i),In("\u062A\u0639\u0630\u0631 \u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u0627\u0644\u0623\u062F\u0645\u0646",!0);return}if(n.toLowerCase()===hy.toLowerCase()&&e===dy){fy.set("fakeAdmin","true"),window.location.href="admin-panel.html";return}console.error(r),In((r==null?void 0:r.message)||"\u062E\u0637\u0623 \u0641\u064A \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",!0)}})}function my(){let n=document.getElementById("adminLoginForm");n&&n.addEventListener("submit",e=>y(null,null,function*(){e.preventDefault();let t=new FormData(n),r=(t.get("email")||"").toString().trim(),i=(t.get("password")||"").toString().trim();if(!r||!i){In("\u0623\u062F\u062E\u0644 \u0627\u0644\u0628\u0631\u064A\u062F \u0648\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",!0);return}yield py(r,i)}))}document.addEventListener("DOMContentLoaded",my);})();
/*! Bundled license information:

@firebase/util/dist/index.esm.js:
@firebase/util/dist/index.esm.js:
@firebase/util/dist/index.esm.js:
@firebase/util/dist/index.esm.js:
@firebase/util/dist/index.esm.js:
@firebase/util/dist/index.esm.js:
@firebase/util/dist/index.esm.js:
@firebase/util/dist/index.esm.js:
@firebase/util/dist/index.esm.js:
@firebase/logger/dist/esm/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
@firebase/component/dist/esm/index.esm.js:
@firebase/app/dist/esm/index.esm.js:
@firebase/app/dist/esm/index.esm.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
firebase/app/dist/esm/index.esm.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm.js:
@firebase/auth/dist/esm/index-1970027f.js:
@firebase/firestore/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-1970027f.js:
@firebase/auth/dist/esm/index-1970027f.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-1970027f.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-1970027f.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-1970027f.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-1970027f.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-1970027f.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-1970027f.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/webchannel-wrapper/dist/bloom-blob/esm/bloom_blob_es2018.js:
@firebase/webchannel-wrapper/dist/webchannel-blob/esm/webchannel_blob_es2018.js:
  (** @license
  Copyright The Closure Library Authors.
  SPDX-License-Identifier: Apache-2.0
  *)
  (** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  *)

@firebase/firestore/dist/index.esm.js:
  (**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law | agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm.js:
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
