<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title data-i18n="settings.title">الإعدادات</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/layout.css">
    <link rel="stylesheet" href="assets/css/header.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/dark-mode.css">
    <link rel="stylesheet" href="assets/css/settings.css">
</head>
<body data-page="settings">

<header class="main-header">
    <div class="container header-inner">
        <div class="brand-area">
            <div class="school-logo">
                <img src="assets/images/school-logo.png" alt="شعار المدرسة">
            </div>
            <div class="brand-text">
                <span class="brand-top">مدرستي</span>
                <span class="brand-sub">مدرسة وادي موسى الثانوية الشاملة للبنين</span>
            </div>
        </div>

        <nav class="main-nav">
            <a href="index.html" data-i18n="nav.home">الرئيسية</a>
            <a href="gallery.html" data-i18n="nav.gallery">معرض الإنجازات</a>
            <a href="btec.html" data-i18n="nav.btec">نظام BTEC</a>
            <a href="calculator.html" data-i18n="nav.calculator">حاسبة المعدل</a>
            <a href="videos.html" data-i18n="nav.videos">فيديوهات توعوية</a>
            <a href="ai.html" data-i18n="nav.ai">المساعد الذكي</a>
        </nav>

        <div class="pearson-badge" onclick="location.href='btec.html'">
            <img src="assets/images/pearson-logo.png" alt="Pearson">
            <span>BTEC Pearson</span>
        </div>

        <div style="display: flex; align-items: center; gap: 10px;">
            <a href="settings.html" class="settings-link active" id="settingsShortcut" data-i18n-title="settings.title" title="الإعدادات">
                <i class="fa-solid fa-gear"></i>
            </a>
            <button class="theme-toggle" id="themeToggle" aria-label="تبديل الوضع">
                <i class="fa-solid fa-sun"></i>
                <i class="fa-solid fa-moon"></i>
            </button>
            <button class="nav-toggle" id="navToggle">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>
    </div>
</header>

<main class="settings-shell">
    <div class="container">
        <div class="settings-hero">
            <div>
                <p class="eyebrow" data-i18n="settings.eyebrow">التحكم الكامل</p>
                <h1 data-i18n="settings.heading">خصص تجربتك</h1>
                <p class="lead" data-i18n="settings.lead">غيّر اللغة، الألوان، وجرّب تسجيل الدخول التجريبي لتوحيد الإعدادات في كل الصفحات.</p>
            </div>
            <div class="settings-preview">
                <i class="fa-solid fa-gear"></i>
            </div>
        </div>

        <div class="settings-grid">
            <section class="settings-card">
                <div class="card-head">
                    <div>
                        <p class="eyebrow" data-i18n="settings.colors.eyebrow">الألوان</p>
                        <h2 data-i18n="settings.colors.title">اختيار اللوحة</h2>
                    </div>
                    <span class="tag" data-i18n="settings.colors.tag">متزامنة مع كل الصفحات</span>
                </div>
                <p class="muted" data-i18n="settings.colors.note">اختر واحدة من ثلاث لوحات هادئة؛ سيتم تطبيقها على الهيدر، الخلفيات، والأزرار.</p>
                <div class="palette-grid">
                    <button class="palette-card" type="button" data-color-scheme="classic">
                        <div class="swatch" style="background: linear-gradient(135deg,#2563eb,#f97316);"></div>
                        <div>
                            <strong data-i18n="settings.colors.classic">أزرق مدرسي</strong>
                            <span data-i18n="settings.colors.classicDesc">أزرق واضح مع برتقالي دافئ.</span>
                        </div>
                    </button>
                    <button class="palette-card" type="button" data-color-scheme="oasis">
                        <div class="swatch" style="background: linear-gradient(135deg,#2a9d8f,#e9c46a);"></div>
                        <div>
                            <strong data-i18n="settings.colors.oasis">أخضر حكيم</strong>
                            <span data-i18n="settings.colors.oasisDesc">نعناع مع رمال مريحة.</span>
                        </div>
                    </button>
                    <button class="palette-card" type="button" data-color-scheme="dusk">
                        <div class="swatch" style="background: linear-gradient(135deg,#0ea5e9,#fb7185);"></div>
                        <div>
                            <strong data-i18n="settings.colors.dusk">سماء هادئة</strong>
                            <span data-i18n="settings.colors.duskDesc">سماوي مع وردي خفيف.</span>
                        </div>
                    </button>
                </div>
            </section>

            <section class="settings-card">
                <div class="card-head">
                    <div>
                        <p class="eyebrow" data-i18n="settings.lang.eyebrow">اللغة</p>
                        <h2 data-i18n="settings.lang.title">تبديل اللغة</h2>
                    </div>
                    <span class="tag" data-i18n="settings.lang.tag">ينطبق على كل الصفحات</span>
                </div>
                <p class="muted" data-i18n="settings.lang.note">اختر العربية أو الإنجليزية وسيتم تحويل الاتجاه والنصوص بالكامل.</p>
                <div class="language-switch settings-lang">
                    <button type="button" class="active" data-lang="ar" data-i18n="settings.lang.ar">العربية</button>
                    <button type="button" data-lang="en" data-i18n="settings.lang.en">English</button>
                </div>
            </section>

            <section class="settings-card admin-card" id="admin-login-section">
                <div class="card-head">
                    <div>
                        <p class="eyebrow">صلاحيات الأدمن</p>
                        <h2>تسجيل دخول الأدمن</h2>
                    </div>
                </div>
                <div class="admin-login-grid">
                    <label>
                        البريد الإلكتروني
                        <input type="email" id="adminEmail" placeholder="البريد الإلكتروني">
                    </label>
                    <label>
                        كلمة المرور
                        <input type="password" id="adminPassword" placeholder="كلمة المرور">
                    </label>
                    <button type="button" class="admin-btn" onclick="adminLogin()">تسجيل الدخول</button>
                </div>
                <div class="admin-status" id="adminStatus"></div>
            </section>

            <section class="settings-card admin-card" id="admin-panel" style="display:none;">
                <div class="card-head">
                    <div>
                        <p class="eyebrow">لوحة إدارة المعرض</p>
                        <h2>إدارة معرض الإنجازات</h2>
                    </div>
                </div>
                <div class="admin-actions">
                    <button onclick="logoutAdmin()" class="admin-btn logout-btn">تسجيل الخروج</button>
                </div>

                <div class="upload-section">
                    <label>
                        صورة الإنجاز
                        <input type="file" id="uploadImage" accept="image/*" multiple>
                    </label>
                    <div class="captions-helper">أضف عنواناً لكل صورة تم اختيارها:</div>
                    <div id="captionsContainer" class="captions-list"></div>
                    <label>
                        عنوان / وصف الإنجاز
                        <input type="text" id="imageTitle" placeholder="عنوان الإنجاز">
                    </label>
                    <button type="button" class="admin-btn" onclick="uploadPost()">إضافة منشور</button>
                </div>

                <div id="postsList" class="posts-list"></div>
                <div class="admin-status" id="adminPostsStatus"></div>
            </section>
        </div>
    </div>
</main>

<footer class="main-footer">
    <div class="container footer-inner">
        <div data-i18n="footer.copyright">© <span id="year"></span> مدرسة وادي موسى الثانوية الشاملة للبنين</div>

        <div class="footer-dev" data-i18n="footer.dev">
            تصميم وبرمجة  
            <strong>الطالب ثائر محمد السلامين</strong>
        </div>
        
        <div class="footer-dev" data-i18n="footer.support">
              دعم لوجستي 
            <strong>الطالب عمر راجي الهلالات</strong>
        </div>
        <div class="footer-dev" data-i18n="footer.supervisor">
            بإشراف  
          <strong>المهندس حسن النوافلة   </strong>
      </div>
    </div>
</footer>

<!-- Firebase base scripts (compat for namespaced API) -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

<!-- Config must come BEFORE settings.js -->
<script src="assets/js/firebase-config.js"></script>

<!-- Settings logic (admin panel logic) -->
<script src="assets/js/settings.js"></script>

<script src="assets/js/main.js"></script>
<script src="assets/js/dark-mode.js"></script>
<script>
    document.getElementById("year").textContent = new Date().getFullYear();
</script>
</body>
</html>
